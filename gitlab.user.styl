/* ==UserStyle==
@name         Dark-GitLab
@namespace    gitlab.com/vednoc/dark-gitlab
@description  Dark and light theme for GitLab and self-hosted GitLab instances.
@author       vednoc <vednoc@pm.me> (https://gitlab.com/vednoc)
@homepageURL  https://gitlab.com/vednoc/dark-gitlab
@supportURL   https://gitlab.com/vednoc/dark-gitlab/issues
@updateURL    https://gitlab.com/vednoc/dark-gitlab/raw/master/gitlab.user.styl
@preprocessor stylus
@version      1.6.0
@license      MIT

@var select   theme      'Color-scheme' ['Default', 'GitHub-Dark']
@var checkbox pcs_enable 'Apply when `(prefers-color-scheme: dark)` is enabled' 0
@var text     ui_font    'Custom UI font' '"font_name"'
@var text     mono_font  'Custom mono font' '"font_name"'
@var text     emoji_font 'Custom emoji font' '"font_name"'
@var text     a_radius   'Avatars: Custom border radius' 25%
@var range    md_img_o   'Markdown: Default image opacity' [1, 0.0, 1, 0.01]
@var checkbox ic_invert  'Chromium: Invert icons in Shadow DOM' 1
@var checkbox img_invert 'Invert illustrations to dark colors' 1
@var checkbox nb_height  'Navbar: Increase height' 1
@var checkbox nb_canary  'Navbar: Show canary badge' 1
@var checkbox c_hl_none  'Code: Use theme colors for "none" syntax hl theme' 1
@var checkbox dgl_alert  'Profile: Enable Dark-GitLab announcements' 0
@var checkbox sb_enable  'Global: Enable theme scrollbars' 1

@var color    dark       'Color: Primary background   ' #292929
@var color    darken     'Color: Highlight background ' #333333
@var color    darker     'Color: Secondary background ' #424242
@var color    light      'Color: Primary foreground   ' #e6e6e6
@var color    lighter    'Color: Secondary foreground ' #aaaaaa
@var color    accent     'Color: Accent               ' #bf692b
@var color    yellow     'Color: Yellow               ' #f0c674
@var color    orange     'Color: Orange               ' #d98245
@var color    red        'Color: Red                  ' #a54242
@var color    magenta    'Color: Magenta              ' #b294bb
@var color    violet     'Color: Violet               ' #85678f
@var color    blue       'Color: Blue                 ' #54738c
@var color    cyan       'Color: Cyan                 ' #5e8d87
@var color    green      'Color: Green                ' #7b823a
@var color    white      'Color: White                ' #ffffff
@var color    shadow     'Color: Shadow               ' #00000035
==/UserStyle== */

/*!
 * NOTE: Modifying the code will put auto-update feature of Stylus on pause in
 * order to preserve your local changes. That means you need to manually update
 * Dark-GitLab and re-do your modifications in order to stay up-to-date.
 *
 * A way to add domains without modifying the code doesn't exist yet.
 * Relevant issue: https://github.com/openstyles/stylus/issues/307
 *
 * Make sure you have the latest version before submitting bug reports.
 */

@-moz-document domain('custom.domain'),
domain('invent.kde.org'),
domain('git.pleroma.social'),
domain('gitgud.io'),
domain('salsa.debian.org'),
domain('framagit.org'),
domain('repo.getmonero.org'),
domain('0xacab.org'),
domain('dev.gajim.org'),
domain('devel.trisquel.info'),
domain('git.cit.bcit.ca'),
domain('git.coop'),
domain('git.dev.ctu.univ-fcomte.fr'),
domain('git.drk.sc'),
domain('git.empiresmod.com'),
domain('git.fosscommunity.in'),
domain('git.immc.ucl.ac.be'),
domain('git.jami.net'),
domain('git.linux-kernel.at'),
domain('git.nzoss.org.nz'),
domain('git.silence.dev'),
domain('lab.libreho.st'),
domain('opencode.net'),
domain('skylab.vc.h-brs.de'),
domain('vbscan.fisica.unimib.it'),
domain('git.cardiff.ac.uk'),
domain('git.igwn.org'),
domain('git.ligo.org'),
domain('forge.tedomum.net'),
domain('git.callpipe.com'),
domain('git.happy-dev.fr'),
domain('source.ind.ie'),
domain('mau.dev'),
domain('source.puri.sm'),
domain('git.oeru.org'),
regexp('^https?://(www\.)?git\.(gnu|synz)\.io(/.*)?$'),
regexp('^https?://(www\.)?code\.((videolan|briarproject)\.org|foxkit\.us)(/.*)?$'),
regexp('^https?://(www\.)?source\.(small-tech|joinmastodon)\.org(/.*)?$'),
regexp('^https?://(www\.)?git\.(drupalcode|feneas|ouru|pwmt|regardscitoyens)\.org(/.*)?$'),
regexp('^https?://(www\.)?(joonpc\.skku\.edu/gitlab|mpegx\.int-evry\.fr/software)(/.*)?$'),
regexp('^https?://((next|www)\.)?(gitlab\.(?!(io|biterg)).*)(/.*)?$') {
    if (pcs_enable) {
        { unquote('@media (prefers-color-scheme: dark) {') }
    }

    // Dark-GitLab variables.
    :root {
        --note      : 'Dark-GitLab v1.6.0';
        --bshadow   : 0 2px 4px var(--shadow);
        --t         : transparent !important;
        --avatar    : a_radius;
        --ui-font   : ui_font, -apple-system, BlinkMacSystemFont, 'Segoe UI',
            Roboto, 'Noto Sans', Ubuntu, Cantarell, 'Helvetica Neue',
            var(--emoji-font), sans-serif;
        --mono-font : mono_font, 'Menlo', 'DejaVu Sans Mono', 'Liberation Mono',
            'Consolas', 'Ubuntu Mono', 'Courier New', 'andale mono',
            'lucida console', monospace;
        --emoji-font: emoji_font, 'Apple Color Emoji', 'Segoe UI Emoji',
            'Segoe UI Symbol', 'Noto Color Emoji';
        --white     : white;

        /// Feat -> Color-scheme.
        if ( theme == 'GitHub-Dark' ) {
            --bb        : #202020;
            --dark      : #181818;
            --darken    : #262626;
            --darker    : #404040;
            --light     : #e6e6e6;
            --lighter   : #9b9b9b;
            --accent    : #4f8cc9;
            --shadow    : #00000050;
            --yellow    : #ffcc33;
            --orange    : #fe9600;
            --red       : #ff4444;
            --magenta   : #8368aa;
            --violet    : #6e5494;
            --blue      : #4f8cc9;
            --cyan      : #4d5eff;
            --green     : #008833;
        } else {
            --bb        : lighten(dark, 1.5%);
            --dark      : dark;
            --darken    : darken;
            --darker    : darker;
            --light     : light;
            --lighter   : lighter;
            --accent    : accent;
            --shadow    : shadow;
            --yellow    : yellow;
            --orange    : orange;
            --red       : red;
            --magenta   : magenta;
            --violet    : violet;
            --blue      : blue;
            --cyan      : cyan;
            --green     : green;
        }

        // TODO: Add more tones for secondary colors.
        --red-darken    : mix(dark, red, 70%);
        --red-darker    : mix(dark, red, 85%);
        /// Colors for CI status icons in Firefox.
        @supports (-moz-user-select: none) {
            --svg-status-bg : var(--dark) !important;
        }
        /// Prevents horizontal overflow. @upstream
        overflow-x: hidden;
    }

    // Overwrite existing Stylus-lang vars with CSS vars.
    bb      = var(--bb);
    bg      = var(--dark);
    hl      = var(--darken);
    bd      = var(--darker);
    fg      = var(--light);
    cm      = var(--lighter);
    ac      = var(--accent);
    sh      = var(--shadow);
    bsh     = var(--bshadow);
    yellow  = var(--yellow);
    orange  = var(--orange);
    lred    = transparentify(red, #fff, 65%);
    red     = var(--red);
    magenta = var(--magenta);
    violet  = var(--violet);
    blue    = var(--blue);
    cyan    = var(--cyan);
    lgreen  = transparentify(green, #fff, 75%);
    green   = var(--green);
    white   = var(--white);
    t       = var(--t);
    outer   = 0 0 0 1px bd;
    inner   = inset outer;
    i       = !important;
    // Bootstrap --breakpoint-* CSS vars.
    bpoints = { xs: 0, sm: 576px, md: 768px, lg: 992px, xl: 1200px }

    // Color mixin.
    /// All colors: `c: fg bd bg;`
    /// Only border-color: `c: 0 bd;`
    c(x, y = 0, z = 0, xi = 1, yi = 1, zi = 1) {
        i = !important;
        if x is a 'call' or x is a 'rgba' {            color: xi is 0? x : x i }
        if y is a 'call' or y is a 'rgba' {     border-color: yi is 0? y : y i }
        if z is a 'call' or z is a 'rgba' { background-color: zi is 0? z : z i }
    }
    // SVG colors.
    v(x, y = 0, xi = 1, yi = 1) {
        i = !important;
        if x is a 'call' or x is a 'rgba' {   fill: xi is 0? x : x i }
        if y is a 'call' or y is a 'rgba' { stroke: yi is 0? y : y i }
    }
    // Border radius mixin.
    rad() { border-radius: arguments }

    // SVG-friendly colors mixin.
    to_svg(input) {
        s('\%23%s', unquote(substr(s('%s', input), 1, 6)))
    }

    /// Feat -> Set 'none' syntax preset to use theme colors.
    if ( c_hl_none == 1 ) { c-hl-none = ', .code.none' }

    // Base styles.
    body {
        font-family: var(--ui-font) i;
        &, &.navless { c: fg 0 bg }
        /// App background.
        &::before {
            content: '';
            z-index: -1;
            position: fixed;
            top: 0; left: 0; bottom: 0; right: 0;
            c: 0 0 bb;
        }
        /// Browser styles.
        a { &, &:hover { color: ac }}
        hr { border-color: bd }
        h, .h { &1, &2, &3, &4, &5, &6 { color: fg }}
        time { color: cm }
        :not(pre) > code {
            c: fg 0 hl 0 0 0;
            box-shadow: inner;
        }
        pre {
            c: fg bd hl 0 0 0;
            /// Commits -> Messages / Details.
            &[class *= 'description'] {
                border-left-width: 4px;
                font-size: 0.875rem;
                c: cm bd;
            }
            /// Global -> Reset raw file content.
            ../ > pre:not([class]) { c: 0 0 t }
        }
        kbd {
            rad: 4px;
            c: fg 0 hl;
            box-shadow: inner;
        }
        /// Misc link colors.
        .gl-link { &, &:hover { color: ac }}
        .author-link, /.branch-commit .commit-sha { color: ac }
        /// Custom monospace font.
        pre, code, kbd, samp, .monospace, .ref-name,
        .commit-sha, .pipeline-number, .label-branch,
        table.code, [class *= 'git-commit'] {
            font-family: var(--mono-font) i;
        }
        .container { c: 0 bd }
        /// Settings -> Account.
        .danger-title, .gl-field-error, .invalid-feedback { c: red }
        [class *= 'price-per-'] { c: blue }
        .warning-title { c: orange }
        .valid-feedback { c: green }
        .account-well { c: fg bd hl }
        /// Settings -> Fix QR code. #108
        [class *= 'two-factor-auth'] svg {
            c: 0 0 white;
            box-shadow: 0 0 0 4px white;
        }
        /// Global -> Progress bar.
        .progress {
            c: 0 0 bd;
            &-bar { c: fg; rad: 4px }
            &-bar.bg-primary { c: 0 0 ac }
            /// Project -> Languages bar.
            &.repository-languages-bar {
                c: 0 0 t;
                /// Override language colors. @upstream
                [style *= '#375eab'] { c: 0 0 #00ADD8 } /// Go-lang.
                [style *= '#776791'] { c: 0 0 #000100 } /// Crystal.
            }
        }
        /// Global color reset.
        .text {
            &-info:not(#z) { c: blue; > svg { v: blue }}
            &-danger:not(#z) { c: red; > svg { v: red }}
            &-success:not(#z) { c: green; > svg { v: green }}
            &-warning:not(#z) { c: orange; > svg { v: orange }}
            &-plain, /.light { c: fg }
            &-secondary, &-muted, &-gl-muted, &-tertiary { c: cm }
            /.cgray, /.description-block, /.help-block { c: cm }
            /[class *= 'gl-text-gray-'] { c: cm }
        }
        .bg {
            &-light { c: 0 0 bd }
            &-danger { c: 0 0 red }
            &-secondary { c: 0 0 hl }
            &-success { c: 0 0 green }
            &-white, &-gray-light { c: 0 0 bg }
        }
        .border-bottom, .bordered-box { c: 0 bd }
        /// Profile -> Calendar activities.
        .bordered, .unstyled { &-list > li { c: 0 bd }}
        /// Scrollbars.
        if ( sb_enable == 1 ) {
            /html { scrollbar-color: #88888830 #88888815 }
            /::-webkit-scrollbar {
                width: 12px;
                &-track { background: #88888815 }
                &-thumb { background: #88888830 }
            }
        }
        /// Placeholders.
        ::placeholder { c: cm }
        ::-webkit-input-placeholder { c: cm }
        /// Login page.
        .page-wrap {
            c: 0 0 t;
            .brand-holder p { c: cm }
            /// Footer styles.
            hr.footer-fixed {
                padding-top: 24px;
                margin-bottom: 0;
                c: 0 0 hl;
                + .footer-container { c: 0 0 t }
            }
            /// Login.
            .login-box, .signup-box, .omniauth-container {
                rad: 4px;
                c: 0 bd hl;
                box-shadow: inner i;
                .omniauth-btn { c: 0 0 bg }
                .omniauth-divider { &::before, &::after { c: 0 bd }}
                input.form-control { c: 0 0 bg }
                .btn { &-success, &-register { c: white green green }}
            }
            /// Buttons -> Sign in/Register.
            .new-session-tabs {
                border: 1px solid bd i;
                border-bottom: none i;
                box-shadow: none i;
                c: 0 0 bg;
                li {
                    &:not(.active) {
                        &, &:hover a:not(.active) { c: 0 bd t }
                    }
                    a.active {
                        rad: 0;
                        c: 0 t hl;
                        box-shadow: 0 1px hl;
                    }
                }
                + .tab-content > div { rad: 0 0 4px 4px i }
            }
        }
        /// Global -> FA icons.
        /.fa {
            c: cm;
            &&-triangle, &.merge-icon { c: orange }
            /// Global -> Menu icon.
            &&-bars:not(#z) { c: fg }
            /// Issues -> Export issues.
            &.checkmark { c: green }
            /// MRs -> First contribution.
            &&-certificate { c: ac }
            /// Settings -> CI/CD runners.
            &[class *= 'paused'] { c: red }
            &[class *= 'online'] { c: green }
        }
        /// Global -> SVG icons.
        /svg {
            &.s16, &.s24, &.icon { v: cm }
            &[class][data-testid *= 'status_'] { fill: currentColor i }
            /// Activity icons.
            /.deleted-icon > svg { v: orange }
            /.closed-icon svg { v: red }
            /.created-icon svg { v: cyan }
            /.opened-icon svg { v: green }
            /.accepted-icon svg { v: cyan }
            /.deleted-icon svg { v: yellow }
            /.imported-icon svg { v: violet }
            /.commented-on-icon svg { v: blue }
            &[id *= 'addition-solid'] { v: green }
            /// Misc.
            /.commit-icon svg { v: cm }
            &.ic-eye-slash { v: orange }          /// Confidential issues.
            &.text-success { v: green }           /// Green checkmark.
            &.text-danger { v: red }              /// Due date.
            /// Diff -> Git status icons.
            &.ic-file-addition { &, &-solid { v: green }}
            &.ic-file-modified { &, &-solid { v: blue }}
            &.ic-file-deletion { &, &-solid { v: red }}
            /// CI -> Default background.
            /[id *= 'status_'] [fill = '#FFF'] { v: hl }
            /// Notes -> Related isses/MRs/epics.
            &.issue-token-state-icon {
                &-open { v: green }
                &-closed { v: blue }
            }
            &.merge-request-status {
                &.open { c: green; v: green }
                &.closed { c: red; v: red }
            }
        }
        /// CI -> Text
        .ci-status-text {
            max-width: 100% i;
            margin-right: 35px;
        }
        /// CI -> Icons.
        /.ci-status {
            c: fg bd bg 1 0;
            /// Status icons.
            &.ci {
                &-success {
                    c: green green;
                }
                &-info, &-running {
                    c: blue blue;
                }
                &-failed {
                    c: red red;
                }
                &-pending,
                &-waiting-for-resource,
                &-failed-with-warnings,
                &-success-with-warnings {
                    c: orange orange;
                }
                &-created,
                &-skipped {
                    c: fg cm;
                }
                &-canceled,
                &-disabled,
                &-scheduled,
                &-manual {
                    c: cm cm;
                }
            }
            /// Stage icons.
            &-icon {
                &-success {
                    &[class *= 'dropdown'] { c: 0 green hl }
                    &:not(#z), &[data-toggle] { svg { v: green }}
                    svg { c: 0 green }
                }
                &-running,
                &-preparing {
                    &[class *= 'dropdown'] { c: 0 blue hl }
                    &:not(#z), &[data-toggle] { svg { v: blue }}
                    svg { c: 0 blue }
                }
                &-failed {
                    &[class *= 'dropdown'] { c: 0 red hl }
                    &:not(#z), &[data-toggle] { svg { v: red }}
                    svg { c: 0 red }
                }
                &-pending,
                &-waiting-for-resource,
                &-failed-with-warnings,
                &-success-with-warnings {
                    &[class *= 'dropdown'] { c: 0 orange hl }
                    &:not(#z), &[data-toggle] { svg { v: orange }}
                    svg { c: 0 orange }
                }
                &-created,
                &-skipped {
                    &[class *= 'dropdown'] { c: 0 cm hl }
                    &:not(#z), &[data-toggle] { svg { v: fg }}
                    svg { c: 0 fg }
                }
                &-manual,
                &-canceled,
                &-disabled,
                &-scheduled,
                &-not-found {
                    &[class *= 'dropdown'] { c: 0 cm hl }
                    &:not(#z), &[data-toggle] { svg { v: cm }}
                    svg { c: 0 cm }
                }
            }
        }
        /// Feat -> Invert icons in Shadow DOM.
        if ( ic_invert == 1 ) {
            @supports not (-moz-user-select: none) {
                .created-icon, .opened-icon, .ic-upload,
                .gl-icon[data-testid *= 'status_'], // #135
                [class *= 'ci-status'] svg {
                    filter: invert(0.85) hue-rotate(180deg) saturate(100%);
                }
                /// Increase contrast for gray icons.
                :not(#z) .ci-status-icon {
                    &-created svg, &-skipped svg {
                        v: #333 i;
                    }
                }
            }
        } else {
            /:root { --svg-status-bg : var(--dark) i }
        }
        /// Global -> Callouts.
        .bs-callout {
            rad: 3px;
            c: fg bd hl;
            a { c: ac }
            strong { color: inherit i }
            &-warning { c: 0 orange hl }
            &-success { c: 0 green hl }
            &-danger { c: 0 red hl }
            &-info { c: 0 blue hl }
            .btn-default, code:not([class]) { c: 0 0 bg }
            /// Project -> Settings -> CI/CD.
            &.help-callout,
            &.shared-runners-description {
                c: fg bd hl;
                /// Reset background color.
                code, .btn-default { c: 0 0 bg }
            }
            /// Project -> Settings -> MR promotion.
            /.user-callout.promotion-callout {
                c: 0 0 hl;
                .bordered-box { c: 0 0 hl }
                /// Project -> Settings -> Audit events.
                &.center {
                    padding-bottom: 10px;
                    border: 1px solid bd;
                    rad: 4px;
                }
                /// Fix GitLab Gold trial.
                &.js-gold-trial-callout > div { margin: 0 -16px }
            }
            /// Project -> Operations -> K8s.
            &.gcp-signup-offer { c: fg blue }
        }
        /// Project -> Settings -> Pages.
        .border-section { c: 0 bd }
        /// Global -> Mobile resolution.
        .scrolling-tabs-container {
            .fade-right { background: linear-gradient(to left, hl 45%, t) }
            .fade-left { background: linear-gradient(to right, hl 45%, t) }
        }
        .toggle-mobile-nav + .breadcrumbs-links { c: 0 bd }
        /// Project -> Forks.
        /.fork-thumbnail {
            c: 0 0 bg;
            &:hover:not(.disabled), &.forked { c: 0 0 hl }
        }
        /// Notes -> Sticky header.
        .issue-sticky-header {
            top: (nb_height) ? 50px i : 40px i;
            c: 0 bd hl;
        }
        /// Settings -> Fix 'preview theme' borders.
        .preview { &.ui-dark, &.gl-dark { c: 0 bd }}
    }

    // Global -> Custom checkbox/radio inputs.
    input {
        r       = unquote
        prefix  = 'data:image/svg+xml;utf8,'
        arrows  = prefix + '<svg xmlns="http://www.w3.org/2000/svg" '
        prefix += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'
        arrows += 'width="101" height="101" view-box="0 0 101 101" preserveAspectRatio="none">'

        &:hover { box-shadow: none i }

        &[type='radio'],
        &[type='checkbox'] {
            &, &:focus, &:hover:active, &:disabled, &:hover:active:disabled {
                -webkit-appearance: none i
                -moz-appearance: none i
                appearance: none i
                cursor: pointer i
                height: 1rem i
                width: 1rem i
                border: 1px solid bd i
                background-size: cover i
                c: fg 0 hl
            }
        }

        /// Checkboxes.
        &[type='radio']:checked {
            z = '<circle cx="256" cy="256" r="128" fill="white"/>'
            background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
            border-radius: 100% i
            &:checked { c: 0 ac ac }
        }
        &[type='checkbox']:checked {
            z ='<path fill="white" d="M99 213l-1 89 104 102 205-201v-91L203 315 99 213z"/>'
            background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
            c: 0 ac ac
        }
        &[type='checkbox']:indeterminate {
            z = '<rect x="128" y="192" width="256" height="96" fill="white"/>'
            background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
            c: 0 red red
        }

        /// Arrows.
        /[aria-sort='ascending'] {
            x = s('<path fill="%s" d="M51 1l25 23 24 22H1l25-22z"/>', to_svg(accent))
            y = '<path fill="gray" opacity=".6" d="M51 101l25-23 24-22H1l25 22z"/>'
            background-image: s("url('%s%s%s</svg>') %s", r(arrows), r(x), r(y), i)
        }
        /[aria-sort='descending'] {
            x = '<path fill="gray" opacity=".6" d="M51 1l25 23 24 22H1l25-22z"/>'
            y = s('<path fill="%s" d="M51 101l25-23 24-22H1l25 22z"/>', to_svg(accent))
            background-image: s("url('%s%s%s</svg>') %s", r(arrows), r(x), r(y), i)
        }
    }

    // Admin.
    /{
        /// -> Performance bar.
        .with-performance-bar {
            .production {
                c: 0 0 bg;
                box-shadow: inset 0 -1px bd i;
            }
            /// Queries -> Rounded corners.
            .backtrace-row { rad: 4px }
            /// Bar -> Menu.
            select {
                border: 1px solid bd i;
                c: fg 0 hl;
            }
            /// Feat -> Navbar height option.
            if(nb_height) {
                .layout-page, .content-wrapper  { margin-top: 85px i }
            }
        }
    }

    // Global -> Navbar.
    .navbar {
        /// Wrapper.
        &-gitlab, &&-empty { c: 0 bd hl }
        /// Logo.
        .title {
            > a {
                margin: 4px 2px 4px -8px i;
                &[href = '/'] { &:hover, &:focus { c: 0 0 bd }}
            }
            .logo-text svg { fill: fg i }
        }
        /// Feat -> Show canary badge.
        if ( nb_canary != 1 ) {
            .canary-badge { display: none i }
        } else {
            .canary-badge > .badge { c: white green green }
        }
        /// Lists.
        &-sub-nav, &-nav {
            c: cm;
            > li {
                > button, > a {
                    transition: 0.2s ease;
                    &[data-toggle] { c: cm }
                    &:hover:not([aria-expanded = 'true']) { c: fg 0 bd }
                }
                /// Active menus.
                &.active, &.active:hover, &.show { > button, > a { c: fg 0 bg }}
                .caret-down { v: cm }
            }
            /// Reset backgrounds.
            [data-toggle = 'dropdown'], button.menu-item {
                &::before { content: unset i }
            }
        }
        /// Help menu.
        .header-help li:first-child {
            /// Divider-like margin.
            > a { margin-top: 0.25rem }
            /// Embed theme version.
            &::before {
                content: 'ðŸŒš ' var(--note);
                display: block;
                padding: 4px 12px 6px;
                border-bottom: 1px solid bd;
                color: fg;
            }
        }
        /// User menu -> Reset avatar.
        .header-user-avatar {
            border: none i;
            c: cm 0 t;
            rad: var(--avatar);
        }
        /// Sign in / register.
        .btn-sign-in { &, &:hover { c: cm 0 bg }}
        /// Feat -> Increase navbar height.
        if ( nb_height == 1 ) {
            min-height: 50px;
            /.nav-sidebar { top: 50px }
            /.layout-page, /.content-wrapper  { margin-top: 50px }
            /// Dropdown menu tweaks.
            .show > .dropdown-menu { margin-top: 8px i }
            .search-input-container .dropdown-menu { margin-top: 14px i }
        }
        /// 'Skip to content' button.
        /.gl-accessibility:focus { c: fg 0 bd }
        /// Mobile -> Toggle colors.
        &-toggler {
            border-left-color: bd i;
            svg { v: cm }
        }
        /// Dark mode tweaks.
        .search-form {
            > form { box-shadow: none i }
            &:hover, &.search-active { > form { c: 0 blue }}
        }
        &-gitlab { box-shadow: none i }
        /// Fix 'down-arrow' size. @upstream
        svg.s16[data-testid='angle-down-icon'] { width: 11px }
    }

    // Global -> Tables.
    table:not(.code):not(#z) {
        R = 4px;
        border-spacing: 0;
        border-collapse: unset;
        border-radius: R;
        c: fg bd bg;
        &:not(.b-table-stacked) {
            display: table;
        }
        /// Fix stacked tables. !41
        for k, v in bpoints {
            &.b-table-stacked-{k} {
                @media(max-width: v) {
                    display: block;
                }
            }
        }
        /// Reset styles for stacked tables.
        @media (max-width: 991.98px) {
            &[class*='table-stacked'] {
                c: 0 t t
                /// Reset borders.
                tr > td {
                    border-top: none i
                    border-bottom: 1px solid bd i
                }
                /// Reset styles for table cell.
                td {
                    c: 0 0 bg
                    border-left: 1px solid bd i
                    &:first-child {
                        rad: 4px 4px 0 0 i
                        border-top: 1px solid bd i
                    }
                    &:last-child { rad: 0 0 4px 4px i }
                    &:hover { c: 0 0 bb }
                }
            }
        }
        /// Shorthand.
        flc = 'not(:first-child):not(last-child)';
        thead {
            tr {
                &:first-child th:first-child { border-top-left-radius: R }
                &:first-child th:last-child { border-top-right-radius: R }
                th {
                    c: fg bd hl;
                    border-bottom-width: 0px;
                    &:{ flc } {
                        border-left: none;
                        // c: 0 green;
                    }
                }
            }
        }
        tbody {
            c: 0 0 t;
            tr {
                &:{ flc } td {
                    border-top: none;
                    // c: 0 red;
                }
                td {
                    c: fg bd t; /// NOTE: Remove `t` if it breaks things.
                    &:{ flc } {
                        border-left: none;
                        // c: 0 yellow;
                    }
                    a { color: ac }
                }
                &:last-child td {
                    &:last-child { rad: 0 0 R 0 }
                    &:first-child { rad: 0 0 0 R }
                    &:first-child:last-child { rad: 0 0 R R }
                }
                // &:hover > td { c: 0 0 hl }
            }
            /// Org-mode/rST tables appear to render TH inside of TBODY.
            /// Fix a conflict with 'keyboard shortcuts' modal.
            ../:not(.shortcut-mappings) tbody > tr {
                > th {
                    border-bottom-width: 1px i;
                    c: 0 bd hl;
                    ../:not(:first-child) > th { border-top-width: 0px i }
                }
                &:first-child > th {
                    &:{ flc } {
                        border-left: none;
                        // c: 0 green;
                    }
                    &:first-child { rad: R 0 0 0 }
                    &:last-child { rad: 0 R 0 0 }
                    &:first-child:last-child { rad: R R 0 0 }
                }
                &:last-child > th:first-child { rad: 0 0 0 R }
                &:first-child:last-child > th:first-child { rad: R 0 0 R }
            }
            /// Fix top rounded corners for head-less tables.
            &:first-child > tr:first-child {
                > td:first-child { rad: 4px 0 0 0 }
                > td:last-child { rad: 0 4px 0 0 }
                /// Single-row.
                &:last-child {
                    > td:first-child { rad: 4px 0 0 4px }
                    > td:last-child { rad: 0 4px 4px 0 }
                }
            }
        }
        /// Admin -> SQL queries.
        > tr {
            td { c: 0 bd }
            &:first-child > td { border-top: none }
        }
        /// AsciiDoc-specific styles.
        &.grid-all {
            > caption { c: cm }
            > thead > tr {
                > th:first-child { border-left: 1px solid bd i }
                > th:last-child { border-right: 1px solid bd i }
            }
            > tbody > tr {
                /// Reset cells.
                > th:first-child {
                    border-top: none i;
                    border-bottom: 1px solid bd i;
                    c: 0 bd hl;
                }
                /// Add border-right to the last cell.
                > td:last-child { border-right: 1px solid bd i }
                /// Add border-top to the first cell.
                &:first-child > th { border-top: 1px solid bd i }
                /// Rounded bottom left corner.
                &:last-child > th { rad: 0 0 0 4px }
            }
        }
        /// Settings -> Striped tables.
        &.table-striped, &.active-tokens, &.pipeline-project-metrics {
            border: 1px solid bd;
            thead > tr > th { border-top: none }
            tbody tr {
                &:nth-of-type(2n + 1) { c: 0 0 bb }
                > td { border-top: 1px solid bd i }
                /// Analytics -> Issues.
                &:not(:first-child) > td.issues-analytics-td {
                    &, ~ td { border-top: none i }
                }
            }
        }
        /// Pajamas -> Tables.
        &.gl-table {
            border: 1px solid bd;
            tbody {
                > tr:first-child > td { border-top: 1px solid bd }
                > tr:last-child > td { border-bottom: none }
                /// Exclude hover in stacked tables.
                @media (min-width: 991.98px) {
                    > tr:hover > td { c: 0 0 bb }
                }
            }
        }
        /// Project -> File table.
        &.tree-table {
            border: 1px solid bd;
            thead tr {
                &, th { border-top: none i }
                > th:first-child { border-top-left-radius: 3px i }
                > th:last-child { border-top-right-radius: 3px i }
            }
            tbody {
                td { c: 0 bd }
                tr {
                    > td {
                        border-top: 1px solid bd i;
                        border-bottom: none i;
                    }
                    &.selected td { c: 0 0 hl }
                    &:hover:not(.selected) td { c: 0 0 bb }
                    &:last-child {
                        /// Last element globally / Single element in artifacts.
                        &, &:first-child { td:not(#z) { border-bottom: none i }}
                    }
                }
                /// Remove top border tweak in find file table.
                &:first-child > tr:first-child td { border-top: none i }
            }
            /// Files.
            /.tree {
                &-item-file-name { &, a, i { c: fg }}
                &-commit { &, &-link { c: cm }}
            }
        }
        /// Project -> Settings -> MR approvals.
        &.table.m-0 {
            margin-bottom: 8px i;
            border: 1px solid bd;
            /// Remove bottom border.
            tbody > tr:last-child:not(#z) > td { border-bottom: none i }
        }
        /// Project -> Settings -> Mirrored repositories.
        &.push-pull-table {
            border: 1px solid bd;
            thead tr th { border-top: none i }
        }
        /// Project -> Security.
        /.vulnerability-list thead th { box-shadow: 0 1px bd i }
        /// Project -> Settings -> Badges.
        /.gl-responsive-table-row {
            c: cm;
            &:not(:last-child) { c: 0 bd }
            &-clickable:hover { c: 0 0 hl }
            /// Settings -> Usage quotas -> Storage.
            &.bg-gray-light {
                c: 0 0 bb
                &:last-child { border-bottom: 1px solid bd i }
            }
        }
        /// Project -> Pipelines.
        /.ci-table {
            margin-top: 10px;
            border: 1px solid bd;
            c: red 0 bg;
            rad: 4px;
            [class *= 'header'] {
                padding: 12px 16px;
                c: fg bd hl;
                rad: 3px 3px 0 0;
            }
            [class $= 'table-row'] {
                padding: 8px 16px;
                c: fg bd bg;
                &:nth-last-child(2) {
                    border-bottom: none i;
                    rad: 0 0 3px 3px;
                }
                &:hover { c: 0 0 bb }
            }
            .pipeline-actions { padding-right: 16px }
            /.js-run-mr-pipeline { margin-right: 16px }
            /// Project -> Jobs -> Fix icons and table cells. #98
            .sprite { v: cm }
            > tbody > .build {
                > td { border-top: 1px solid bd i }
                &:hover { c: 0 0 bb }
            }
            /// Text colors.
            .commit-sha, .gfm-commit { c: ac }
            .ref-name,
            .pipeline-id, .table-mobile-header,
            .build-link, .build-name a {
                c: fg;
            }
            .duration {
                c: cm;
                svg path { v: cm }
            }
            /// Jobs -> Pipelines.
            &.pipeline tbody {
                > tr > th { c: fg bd bb }
                > tr > td { border-top: 1px solid bd i }
            }
            /// Icons -> Fix background.
            path[fill = '#FFF'] { v: hl }
            /// Pipelines -> Jobs. #125
            .build.retried { c: 0 0 bb }
        }
        /// Project -> Settings -> Webhooks.
        /[class *= 'col-'] > table.table {
            border: 1px solid bd;
            thead tr th { border-top: none }
            tbody {
                tr td { border-top: 1px solid bd i }
                tr:hover { c: 0 0 bb }
            }
        }
        /// Project -> CI/CD -> Variables.
        /.ci-variable-table table {
            colgroup col:nth-child(7) { width: 50px i }
            tr th, tr td { &:first-child { padding-left: 16px }}
        }
        /// Project -> Import.
        &.import-table {
            border: 1px solid bd i;
            thead th { border: none i; c: 0 0 hl }
            tbody {
                tr:hover td { c: 0 0 bb }
                td { border-top: 1px solid bd i }
            }
            /.import-slash-divider { c: 0 bd bb }
            /// Project -> Import in progress.
            /.save-project-loader { c: cm }
        }
        /// Who cares about semantic HTML anyways? #88 @upstream
        td.d-sm-block { display: table-cell i }
    }

    // Global -> Dropdowns.
    [class *= 'dropdown-menu'] {
        c: fg bd hl;
        /// Active state.
        &.show { box-shadow: bsh }
        /// Misc elements.
        .dropdown-info-note { c: cm }
        strong, .bold, .text { c: fg }
        span[class *= '-text'] { z-index: 1; c: fg }
        [class *= 'input-field'] {
            c: fg bd bg;
            &:focus { c: 0 blue }
        }
        .dropdown-title, [class *= '-header'] { c: fg bd }
        [class *= 'divider'], .separator { c: 0 bd bd }
        .border-top { c: 0 bd }
        li {
            a, button {
                c: cm;
                /// TODO: Figure out `active/focus` states.
                &:hover, &:active, &:focus { c: fg 0 bd }
                &.is-focused { c: fg 0 bd }
                &.is-active { c: ac }
            }
            /// Notes -> Reset 'Create MR' button.
            .btn-success:hover { c: white 0 green }
            /// Navbar -> User.
            &.current-user {
                c: cm;
                .bold, .user-status { c: fg }
            }
        }
        button {
            c: cm;
            /// Notes -> Fix a couple of context menu items.
            &[class *= '-note-']:not(#z):hover { c: 0 0 bd }
            &[class *= 'note-delete']::before { content: none }
            &:not(#z):not([class *= 'disable']):hover { c: fg 0 bd 0 0 0 }
        }
        /// Base elements.
        .dropdown {
            &-tab {
                &s-list { box-shadow: none i }
                &-item {
                    padding: 0 i;
                    c: 0 bd;
                    a {
                        border-width: 1px i;
                        c: 0 bd bg;
                        &:hover { c: fg 0 t }
                        &.active { c: fg t hl }
                    }
                }
            }
            &-footer { c: 0 bd }
            &-loading { c: 0 0 hl; opacity: 0.9 }
        }
        /// Navbar -> Projects/groups.
        /.frequent-items-dropdown {
            &-sidebar {
                c: 0 bd;
                a { c: fg }
                a:hover { c: 0 0 bd }
            }
            &-content {
                ul li:hover a { c: 0 0 bd }
                [class *= '-item-title'] { c: fg }
                [class *= '-namespace'] { c: cm }
            }
            &-container {
                /// Text colors for header and no results.
                .section { &-header, &-empty { c: cm }}
            }
        }
        /// Issues -> Boards -> Add list.
        &[class *= '-tabs'] {
            p { c: cm }
            .btn-link:not(#z) {
                c: 0 0 t;
                &:hover { c: 0 0 bd }
            }
        }
        /// Global -> Select2 component.
        /.select2 {
            &-highlighted &-result-label { c: fg 0 bd }
            &-result-label { c: fg }
            &-choice { &, &s { c: fg bd hl }}
            &-arrow::after { c: cm }
            &-match { c: ac }
            &-drop {
                c: cm bd hl;
                box-shadow: bsh;
            }
            &-input:not(#z) {
                font-family: var(--ui-font) i;
                c: fg bd t;
            }
            &-container-disabled {
                > a { c: 0 0 bd }
                .select2-arrow { c: 0 0 t }
            }
        }
        /// Pipelines -> Pipeline menus.
        &[class *= 'big-pipe'] { &::before, &::after { c: 0 t }}
        &[class *= 'mini-pipe'] { &::before, &::after { c: 0 t }}
        [class *= 'counter-badge'] { font-weight: normal; c: cm }
        /// Commits -> Author dropdown.
        /.gl-new-dropdown .btn {
            box-shadow: none i;
            &.dropdown-toggle[id *= '15'] { padding: 8px 8px 8px 10px i }
            + ul {
                [class *= 'text-pri'] { c: fg }
                [class *= 'text-sec'] { c: cm }
            }

            /// Project -> Gitpod/IDE menu.
            /// NOTE: Remove when replaced with an SVG icon. @upstream
            if (lightness(dark) <= 50%) {
                &.dropdown-toggle-split::after { filter: invert(0.7) i }
            }
        }
        /// Issues -> 'Create MR' button.
        /.droplab-dropdown {
            .form-control { c: 0 0 bg }
            .menu-item:not(.disable-hover) {
                c: cm;
                &:hover { c: fg 0 bd }
            }
            [class *= 'selected'] .menu-item { &, .fa { c: fg }}
            /// Active items. !31
            /.droplab-item-active:not(#z) button { c: fg 0 bd }
        }
        /// Misc resets.
        /.dropdown-menu {
            /// Project -> Reset items in 'notification settings' menu.
            &-inner {
                &-title, &-content { c: 0 0 t }
                &-content { c: cm }
            }
            /// Dashboard -> Todos.
            &-user {
                &-link:not(:hover) { strong, span { c: cm }}
                &-name, &-full-name, &-username { c: 0 0 t }
            }
            /// Close buttons.
            ../:not(#z) .dropdown-menu-close {
                &, &:hover { c: 0 0 t }
                &-icon { c: 0 0 t }
            }
        }
        /// Reset dropdown height. @upstream
        /[data-page ^= 'search:'],
        /[data-page ^= 'projects:'],
        /[data-page ^= 'dashboard:'] {
            .dropdown-menu[class *= 'select'] { max-height: 420px i }
        }
    }

    // Global -> Buttons.
    .btn {
        z-index: 1;
        position: relative;
        &, /[data-toggle = 'dropdown'], &-default {
            c: fg bd hl;
            svg { v: cm }
            ../.active > .fa { c: fg }
            &:hover::before { content: ''; c: 0 0 #88888830 0 0 0 }
            /// MR -> Fix conflict with 'description templates' in title area.
            &[id *= 'promotion'] {
                c: 0 0 t;
                &::before { content: unset i }
            }
        }
        /// Dropdowns -> Active state; exclude CI status icons.
        /.active, /.show {
            > [data-toggle = 'dropdown']:not([class *= 'ci-status']) svg { v: fg }
        }
        /// Project -> Download source code.
        &&-xs, &-xs.stat-text {
            padding: 8px 10px;
            c: 0 0 bg;
            &:not(#z).btn-primary { c: white ac ac }
        }
        /// Project -> Clone repository.
        /.git-clone-holder .form-control {
            font-family: var(--mono-font) i;
            c: 0 0 bg;
        }
        /// Releases -> Source code.
        &[data-toggle = 'dropdown'].btn-link { c: 0 t t }
        /// NOTE: Definitely not a great idea, but let us see what happens!
        &::before, /[data-toggle = 'dropdown']::before {
            z-index: 0;
            opacity: 0.20;
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            transition: opacity 0.2s ease;
            rad: inherit;
            ../:hover::before { opacity: 0.35 }
        }
        /// Colored buttons.
        &&-remove, &&-danger {
            c: white red red;
            &:not(.btn-inverted) {
                transition: opacity 0.2s ease;
                .fa { c: white } svg { v: white }
                &:hover { opacity: 0.8 }
            }
            &.btn-inverted {
                c: red red bg;
                &::before { content: ''; c: 0 0 red }
                .fa { c: red } svg { v: red }
            }
        }
        &&-close, &&-close-color, &&-warning {
            c: orange orange bg;
            &::before { content: ''; c: 0 0 orange }
            .fa { c: orange } svg { v: orange }
        }
        &&-success {
            c: white green green;
            &:not(.btn-inverted) {
                transition: opacity 0.2s ease;
                .fa { c: white } svg { v: white }
                &:hover { opacity: 0.8 }
            }
            &.btn-inverted {
                c: green green bg;
                &::before { content: ''; c: 0 0 green }
                .fa { c: green } svg { v: green }
            }
            /// Project -> Override 'New release' color.
            &.js-new-release-btn:not(#z) { c: white }
        }
        &&-primary, &&-info {
            c: white blue blue;
            &:not(.btn-inverted) {
                transition: opacity 0.2s ease;
                .fa { c: white } svg { v: white }
                &:hover { opacity: 0.8 }
            }
            &.btn-inverted {
                c: blue blue bg;
                &::before { content: ''; c: 0 0 blue }
                .fa { c: blue } svg { v: blue }
            }
            /// Project settings -> Integration.
            &.new-gl-button { box-shadow: none i }
        }
        /// Account -> Billing.
        &&-inverted-secondary {
            c: ac ac;
            &::before { content: ''; c: 0 0 ac }
        }
        /// Boards -> Switch board.
        &&-secondary {
            &:focus, &.focus { box-shadow: 0 0 0 0.2rem #88888810 i }
        }
        /// No link-buttons! Reference: fbe1cde1
        &.gl-link[href] { c: fg }
        /// Notes -> Links.
        &-link { c: ac t t }
        &.active { c: fg bd bd }
        /// Transparent buttons.
        &-transparent:not(#z), &-default-tertiary {
            c: cm t t 0
            &::before { content: unset }
        }
        /// Disabled.
        &[disabled], &.disabled {
            &:not(#z) {
                &::before { content: unset }
                &, &:hover {
                    opacity: 0.5 i;
                    c: cm bd bg;
                }
                .fa { c: cm }
            }
        }
        /// Reactions.
        &.award-control {
            c: cm bd hl;
            &.active, &.is-active {
                c: ac ac hl;
                &::before { content: ''; c: 0 0 ac }
            }
        }
        /// GPG.
        &.gpg-status-box {
            &.invalid { c: cm bd hl }
            &.valid { c: green green hl }
        }
        /// Notes -> Issue status.
        /.status-box {
            c: white;
            &-issue-closed, &-mr-merged { c: 0 0 blue }
            &-closed, &-mr-closed { c: 0 0 red }
            &-expired { c: 0 0 orange }
            &-upcoming { c: fg 0 bd }
            &-open { c: 0 0 green }
            /// Mobile -> Fix colors for issue status icons.
            > svg.s16 { v: white }
        }
        /// Button groups.
        /.input-group {
            &-append, &-prepend {
                c: 0 0 t;
                > [class *= '-text'] {
                    c: fg bd;
                    // Project -> Edit labels. #29
                    &:not(.label-color-preview) { c: 0 0 bb }
                }
            }
        }
        /// Project -> Header buttons.
        /.project-repo-buttons {
            .btn { padding: 6px 10px }
            .count {
                c: fg;
                &-badge-count { c: 0 bd hl }
                &-badge, ../ .btn-xs {
                    height: 32px i;
                    font-size: 14px i;
                }
                /// Remove margin from the last badge.
                &-badge:last-child { margin-right: 0 i }
            }
        }
        /// Commits -> Toggle message.
        /.text-expander {
            padding: 2px 4px;
            c: cm bd hl;
            &.open { c: ac 0 bd }
        }
        /// Project -> Missing files / Static buttons.
        &-missing, /.stat-text { c: cm bd hl }
        /// Settings -> Connected accounts.
        /.provider-btn {
            line-height: unset;
            rad: 0 4px 4px 0;
            c: fg 0 hl;
            &-group {
                rad: 4px;
                c: 0 bd hl;
            }
            &-image {
                rad: 4px 0 0 4px;
                c: 0 bd bd;
            }
        }
        /// Global -> Disable pseudo-element for some buttons.
        &-link, &-blank, &-clipboard { &::before { content: unset i }}
        /// Global -> Transparent buttons.
        &.bg-transparent { c: 0 0 t }
        /// Dashboard -> Snippets.
        &.gl-button {
            border: 1px solid;
            box-shadow: none i;
            /// Snippets -> 'Add another file' button.
            &.btn-dashed {
                outline-color: bb i
                &:active, &:focus { c: 0 blue }
            }
        }
    }

    // Global -> Labels.
    .label {
        &&-monospace { c: fg bd bb }
        /// Issues/MRs/Epics -> Scoped labels.
        &.scoped-label .fa-question-circle {
            c: 0 0 t;
            &[style *= '#FFFFFF'] { c: white }
            &[style *= '#333333'] { c: black }
        }
        /// Remove badge underline.
        &-link { &, .badge { text-decoration: none i }}
        /// Project -> Lables.
        &-badge {
            c: fg;
            &-blue { c: white 0 blue }
            &-gray { c: cm 0 hl }
        }
        &-links a { c: ac }
        &-action svg { v: cm }
        /// Project labels -> Subscribe buttons. @upstream
        &-subscribe-button { font-weight: 400 }
        /// Project -> File -> LFS file badge.
        &-lfs { c: fg bd bg }
    }

    // Global -> Badges.
    .badge {
        &.issues-count { c: white 0 green }
        &.merge-requests-count { c: white 0 orange }
        &.todos-count { c: white 0 blue }
        /// Project -> Header stats.
        &&-pill&-secondary {
            c: cm 0 bd;
            &:hover { c: fg }
        }
        &-pill { c: cm 0 bd }
        /// Commits -> Details.
        &&-gray { c: fg 0 hl }
        /// Notes -> Related issues/MRs.
        /.issue, /.mr { &-count-badge { &, + button { c: fg bd bg }}}
        /// HACK: Reset colored labels.
        &.color-label {
            box-shadow: inset 0 0 0 1rem #33333370;
            &:hover { box-shadow: none i }
            &[style *= 'color: #333333'] {
                c: black;
                box-shadow: inset 0 0 0 1rem #33333325;
            }
        }
        /// Colored badges.
        &-primary, &-info, &-active { c: white 0 blue }
        &-light, &-secondary, &-inactive { c: cm 0 hl }
        &-warning { c: white 0 orange }
        &-success { c: white 0 green }
        &-danger { c: white 0 red }
        &-dark { c: fg 0 bd }
    }

    // Global -> Forms.
    .form-control, .search form {
        c: fg bd hl;
        border: 1px solid bd i;
        &:focus, &.focus {
            c: 0 blue;
            box-shadow: 0 0 0.4rem -0.2rem blue i;
        }
        &[disabled = 'disabled']:not(#z) { opacity: 0.5 }
        /// Overwrites for navbar and top nav.
        /.navbar & { c: 0 0 bg }
        /.top-area & { height: 35px }
        /// Navbar -> Fix 'search' dropdown. @upstream
        #search {
            c: fg 0 t;
            box-shadow: none i;
            ~ [class *= 'dropdown-menu'] .is-active { c: fg }
            /// Search -> Gradient. NOTE: Type 's' to see it.
            /.dropdown-content-faded-mask::after {
                background: linear-gradient(to top, hl, t) i;
            }
        }
        /// Fix icon color.
        .search-icon { v: cm }
        /// Snippets -> New.
        /.form-actions { c: 0 bd t }
        /// Settings -> Reset background.
        &.select-control { c: 0 0 hl }
    }

    // Global -> Auto-complete menu.
    .atwho-view {
        c: cm bd bg;
        box-shadow: bsh;
        .atwho-view-ul li {
            c: fg;
            /// Matching text.
            strong { c: ac }
            /// Light text.
            small, .params { c: cm }
            /// Selected.
            &:hover, &.cur { c: fg 0 hl }
        }
    }

    // Global -> Lists.
    ul.content-list {
        li {
            c: fg bd;
            a { c: fg }
            /// Metadata.
            /.item-meta * { c: cm }
            /// Dashboard -> Todos -> Fix links.
            .todo { &-label, &-project { a { c: ac }}}
            /// Groups -> Hover animation.
            .group-row-contents {
                &:hover { c: 0 0 hl }
                .metadata { span, div { c: cm }}
                /.has-no-search-results { c: cm }
            }
            /// Profile -> Groups.
            &.group-row {
                .description p, .stats { c: cm }
            }
            /// Hover animation.
            &.issue, &.merge-request, &[id *= 'epic'] {
                &:hover { c: 0 0 hl }
            }
            /// Project -> Compare -> List items.
            ../:not(.event_commits) > li.commit:hover { c: 0 0 bb }
        }
        /// Project -> Branches.
        &.all-branches {
            .graph { &-side .bar, &-separator { c: 0 0 bd }}
            .branch-item:hover { c: 0 0 bb }
            .commit-sha { c: ac }
            .cgray { c: cm }
        }
        /// Project -> Issues / Merge Requests.
        &.issuable-list {
            .issue.today:not(.user-can-drag) {
                position: relative;
                &:hover {
                    c: 0 0 t;
                    &::before { opacity: 0.12 }
                    ../:not(:hover) { c: 0 0 t }
                }
                &::before {
                    content: '';
                    z-index: -1;
                    opacity: 0.05;
                    position: absolute;
                    top: 0; right: 0; bottom: 0; left: 0;
                    c: 0 0 green;
                }
            }
            .closed, .merged { c: 0 0 t }
            .issuable {
                ../ .fa:not(.fa-question-circle), ../ .task-status { c: cm }
                &-milestone, &-info, &-updated-at { c: cm }
                /// Email a new issue/MR to this project.
                /^[-1..-1]-email-modal-btn { c: ac }
            }
            /// Unmerged MR icon color. @upstream
            /.icon-merge-request-unmerged { filter: invert(0.7) }
            /// Manual ordering. #136
            &.manual-ordering {
                c: red green hl
                > .issue { c: 0 bd bg }
            }
        }
        /// Project -> Requirements -> Remove hover bg.
        &.requirements-list > li:not([class*='gl-bg']):hover { c: 0 0 t }
        /// Project -> Members.
        &.members-list {
            li {
                c: 0 0 bb;
                &:hover { c: 0 0 hl }
            }
            /// Fix search icon. #80
            /input.form-control + button { c: 0 bd }
        }
        /// Dashboard -> Snippets.
        .snippet { &-filename, &-info { c: cm }}
    }

    // Global -> Left sidebar.
    .nav-sidebar {
        border-right: 1px solid bd;
        c: 0 0 hl;
        box-shadow: none;
        /// Header.
        .context-header > * {
            c: fg;
            &:hover { c: 0 0 bd }
            .avatar-container { c: 0 t t }
        }
        /// Items.
        .divider { c: 0 bd }
        .sidebar-top-level-items > li {
            &:hover {
                c: 0 0 #88888810;
                > a { c: fg }
            }
            &.active {
                c: 0 0 #88888810;
                box-shadow: inset 4px 0 ac i;
                /// Level name.
                > a {
                    c: fg;
                    svg { v: fg }
                }
                /// Active item.
                &:not(.is-over) > ul > li.active > a {
                    c: 0 0 bd;
                    box-shadow: inset 4px 0 ac i;
                }
                .badge-pill { c: fg }
            }
            a {
                c: cm;
                &:hover { c: 0 0 t }
            }
            .badge-pill { c: cm 0 bd }
            /// Remove borders from sub-level items.
            &.is-over:not(#z) { ul > li { &, > a { box-shadow: unset i }}}
        }
        .sidebar-sub-level-items {
            > li {
                &:hover {
                    c: 0 0 bd;
                    box-shadow: inset 4px 0 ac i;
                    a { c: fg }
                }
                &.active {
                    box-shadow: inset 4px 0 ac i;
                    a { c: fg }
                }
            }
        }
        /// Flyout menus.
        .is-over.is-showing-fly-out {
            > a { c: fg 0 #88888810 }
            ul {
                c: 0 bd hl;
                box-shadow: none;
                li {
                    a { c: cm }
                    a:focus { c: 0 0 bd }
                    &:hover a { c: fg 0 #88888810 }
                }
            }
        }
        /// Collapsed state.
        &[class *= 'collapsed'] {
            .sidebar-top-level-items > li.active { c: 0 0 bd }
        }
        /// Collapse buttons.
        .toggle-sidebar-button, .close-nav-button {
            c: 0 bd hl;
            svg { c: cm }
            span { c: fg }
            &:hover { c: 0 0 bd }
        }
    }

    // Global -> Right sidebar.
    .right-sidebar {
        c: 0 bd hl;
        .title { c: fg }
        .block { c: 0 bd }
        .edit-link, .lock-edit, .no-value, a[href = '#'] { c: cm }
        a, .btn-link { &:not(.btn):hover { color: ac }}
        /// Fix top offset.
        if ( nb_height == 1 ) { top: 50px i }
        /// Pajamas -> Drawer.
        /.gl-drawer {
            c: fg bd bg;
            box-shadow: -1px 0 bd, bsh;
            &-header, &-body > * { c: 0 bd }
            /// Increase top offset when nb_height is enabled.
            if ( nb_height == 1 ) { top: 50px i }
        }
        /// Issues -> Sidebar.
        .issuable-sidebar {
            overflow-y: auto i;
            .gutter-toggle { c: 0 bd t }
            &-header, .dropdown {
                button { c: 0 0 bg }
                /// 'Update all' button.
                .btn-info { c: 0 0 blue }
            }
        }
        /// Time tracking. #49
        .time_tracker {
            .compare-label { c: cm }
            .compare-value { c: fg }
            .time-tracking-help-state { c: 0 bd bg }
        }
        /// Jobs -> Builds container. #22
        &.build-sidebar {
            .builds-container {
                c: fg bd bg;
                .build-job {
                    &.retried { c: 0 0 t }
                    &:hover {
                        c: 0 0 bb;
                        a { c: fg }
                    }
                }
            }
            /// Reset colors.
            .blocks-container { a, .btn-link { &:not(.btn) { c: ac }}}
            .btn, [data-toggle = 'dropdown'] { c: 0 0 bg }
        }
        /// Epics -> Start/due date.
        .is-option-selected > span { c: cm }
        /// Epics -> Ancestors.
        .vertical-timeline {
            &::before { c: 0 cm }
            &-icon {
                c: 0 0 hl;
                &.opened svg { v: green }
                &.closed svg { v: blue }
            }
            /// Fix link hover event.
            &-content a:hover { c: ac }
        }
        /// Epics -> Labels. #123
        .labels-select {
            &-wrapper {
                .label-item { &.is-focused, &:hover { c: fg 0 bd }}
                .gl, .btn { &-link:not(.gl-label-link) { c: cm }}
            }
            &-dropdown-contents {
                border: 1px solid bd i;
                c: 0 bd hl;
                box-shadow: bsh i;
                .dropdown { &-title, &-footer { c: 0 bd }}
            }
        }
        /// Issues -> Health status menu.
        .btn-group {
            li .dropdown-item {
                &:hover { c: 0 0 bd }
                &, button.btn { c: 0 0 t }
                .btn.is-active::before {
                    content: '\f00c' i;
                    opacity: 1 i;
                    c: 0 0 t;
                }
            }
            /// Fix a conflict with button background hacks.
            /.dropdown-title-button { position: absolute }
        }
        /// Collapsed state.
        &&-collapsed {
            .sidebar-collapsed-icon {
                c: fg;
                svg { v: cm }
            }
            .gutter-toggle {
                c: 0 0 hl;
                &, ../ .block { &:hover { c: 0 0 #88888810 }}
            }
        }
    }

    // Global -> Navigation.
    .top-area {
        c: 0 bd;
        /// Global -> Nav links.
        /.nav-links {
            &:not(.quick-links) { c: 0 bd }
            li {
                .badge.badge-pill { c: cm 0 bd }
                a, button {
                    c: cm;
                    &:focus { c: 0 bd }
                    ../:hover { a, button { c: fg bd }}
                    ../.active {
                        &, a, button { c: fg ac }
                        .badge.badge-pill { c: fg 0 bd }
                    }
                    /// Active items and project header stats.
                    &.active, strong { c: fg ac }
                }
            }
        }
        /// Global -> Search.
        .form-control { c: 0 0 hl }
        /// Groups -> Navigation.
        /.content-block {
            c: 0 bd t;
            p:not(.status-box) { c: fg }
            &.landing {
                c: 0 0 hl;
                h4 { c: fg }
            }
            /// Issues -> Show activity / Create MR menu.
            .new-branch-col {
                .btn {
                    padding: 6px 10px i;
                    line-height: 20px i;
                    font-size: 0.875rem;
                }
                /// Notes -> Tweak large buttons to fit in emoji block.
                /.emoji-block .col-lg-6 {
                    flex: unset;
                    width: unset;
                    max-width: unset;
                    &:first-child { max-width: 50% }
                    &:last-child { flex: 1 1 auto i }
                }
            }
        }
        /// Misc.
        /.nav-block { c: 0 bd }
        /.row-content-block {
            c: fg bd hl;
            /// Project -> New issue.
            &.footer-block { c: 0 0 t }
            /// Switch to `bg` color for child elements.
            .btn {
                &:not(.btn-link):not(.btn-success):not(.btn-danger):not(.btn-info):not(.gl-button),
                ../ .btn-default {
                    c: 0 0 bg;
                }
                /// Project -> Requirements.
                &.dropdown-toggle { border: 1px solid bd }
            }
            .filtered-search-box { &:not(#z) { c: 0 0 bg }}
            /// Dashboard -> 'You pushed to...' alert.
            &.top-block {
                padding: 16px 0;
                c: 0 0 bb;
                .event-last-push {
                    time { c: fg }
                    &-text { font-size: 14px }
                }
                .btn-sm {
                    padding: 6px 10px i;
                    line-height: 1.5 i;
                    font-size: 14px i;
                }
            }
            /// Dashboard -> Todos.
            &.issues-details-filters [class *= 'menu-toggle'] { c: 0 0 bg }
            /// Search -> Results header.
            span > code, form > div > button { c: 0 0 bg }
            /// Issues -> Board scope.
            .block {
                c: 0 bd;
                .title { c: fg }
                /// Reset dropdown colors.
                button.dropdown {
                    &-toggle[id]:not(#z), &-menu-toggle { c: 0 0 hl }
                }
            }
        }
        /// Project -> Compare.
        /.sub-header-block { c: 0 bd t }
        /// Project -> Packages.
        /.gl-tab {
            &s-nav { c: 0 bd }
            &-nav-item {
                c: cm;
                &-active { c: fg }
                &:hover { box-shadow: inset 0 -0.125rem bd }
                &.active { box-shadow: inset 0 -0.125rem ac }
            }
            /// Reset text colors.
            &-content {
                c: fg;
                .text-dark { &, &:hover { c: fg }}
                .text-secondary { &, &:hover { c: cm }}
            }
            /// Settings -> Usage quotas.
            /.pipeline-quota {
                c: 0 bd
                /// Workaround for removing extra whitespace.
                + .ci-table > div:first-child { margin-top: -1px i }
            }
        }
        /// Project -> Container Registry
        /.registry-placeholder {
            & .gl-text-black-normal {
                c: fg;
            }
            & a.gl-text-black-normal {
                &:hover {c: ac}
            }
        }
    }

    // Global -> Tabbed navigation.
    .gitlab-tabs {
        rad: 4px 4px 0 0;
        c: 0 bd t;
        &.nav.nav-tabs.nav-links {
            rad: 4px 4px 0 0;
            border-bottom: 1px solid;
            box-shadow: none;
            > .nav-item { margin: 0 }
        }
        li[class ^= 'nav-'] {
            c: 0 bd bd;
            &:first-child { margin: 0 }
            a {
                rad: 0;
                ../:first-child a { rad: 3px 0 0 0 }
                ../:last-child a { rad: 0 3px 0 0 }
                ../:hover a.nav-link { c: fg t }
                &:not(.active) { c: 0 0 bg }
                &.active.nav-link {
                    margin-bottom: -1px;
                    c: fg hl hl;
                }
            }
        }
        /// Tab content.
        + .gitlab-tab-content {
            rad: 0 0 4px 4px;
            c: 0 bd hl;
            /// Inputs.
            .form-control, .info-well { c: 0 0 bg }
            .select2-choice { &, &s { c: 0 0 bg }}
            /// Exclude 'create from template' input bar.
            [class *= 'input-group']:not(.template-input-group) {
                rad: 3px 0 0 3px;
                c: fg bd bb;
            }
            /// Visibility level.
            /.option {
                &-title { c: fg }
                &-description, &-disabled-reason { c: cm }
            }
            /// 'Create from template' area.
            .template-option { c: 0 bd }
            .card-slim { c: 0 0 bg }
            /// NOTE: Obsolete tabs?
            /.nav-tabs .nav-link.active { c: 0 ac t }
            /// Button reset.
            .btn {
                &[class *= 'gitea'] svg {
                    path { v: cm }
                    rect { v: bg }
                }
                &-cancel, &-default, &[class *= 'import'] { c: 0 0 bg }
            }
        }
    }

    // Global -> Welcome page.
    .section-welcome {
        /// Cards.
        .container .blank-state-link {
            c: cm bd bg;
            &:hover { c: fg 0 hl }
        }
    }

    // Global -> Projects list.
    .projects-list {
        > li {
            c: 0 bd;
            .description { c: cm }
            /.user-access-role { c: cm bd #88888815 }
        }
        /// Profile -> Personal projects.
        &.compact {
            .user-access-role { line-height: 18px }
            .avatar { line-height: 38px i }
        }
        /// Loading icon.
        /.loading { c: cm }
        /// NOTE: Experimental list styles.
        /// Global -> Projects/Snippets | Profile -> Groups.
        &:not(.compact),
        /.snippets-list-holder > ul,
        /#groups > ul {
            margin-top: 10px;
            padding: 12px;
            c: 0 0 hl;
            rad: 4px;
            > li {
                padding: 12px 0 i;
                &:first-child { padding-top: 0 i }
                &:last-child { padding-bottom: 0 i }
            }
        }
        /// Profile -> Contributions list.
        /// The `d-sm-block` overrides `d-none`. @upstream
        /.user-calendar-activities {
            c: 0 0 hl;
            rad: 4px;
            h4 {
                margin: 10px 12px 0;
                padding: 10px 0;
                border-bottom: 1px solid bd;
            }
            ul li, > p {
                margin: 0 12px i;
                padding: 10px 0 i;
            }
        }
    }

    // Global -> Event lists.
    .event {
        &-item {
            c: cm bd;
            .commit { &, &s-stat { c: fg }}
            [href], [href *= '/compare/'] { c: ac }
            /// Dashboard -> Activities -> Fix icons.
            .joined, .pushed-new, .pushed-to { &-icon svg { v: cm }}
        }
        &-user-info a[href] { c: fg }
        /// Dashboard -> Activities.
        /div.content_list {
            margin-top: 10px;
            padding: 10px;
            c: 0 0 hl;
            rad: 4px;
            > .event-item {
                padding-top: 10px;
                padding-bottom: 10px;
            }
        }
        /// Does not work with native syntax highlighting themes. @upstream
        &-note pre.code {
            border: 1px solid bd i;
            c: fg 0 bg;
        }
    }

    // Global -> Cards.
    .card {
        c: 0 bd bg;
        .user-info .user { c: fg }
        /// Default styles.
        &-header {
            c: 0 bd hl;
            /// Project -> Settings -> Pages.
            &.bg-info { c: white blue blue }
            &.bg-danger { c: white red red }
            + ul > .list-group-item { c: 0 bd t }
            /// Project -> Settings -> Card borders.
            ../.border {
                &-info { c: 0 blue }
                &-danger { c: 0 red }
            }
            /// Settings -> Active Sessions.
            /.list-group { & > &-item { c: 0 bd bg }}
            /// Reset background colors.
            input, [class *= 'dropdown-menu'] { c: 0 0 bg }
            /// Linked issues.
            .card-title { c: fg }
        }
        &-body {
            > .form-actions {
                c: 0 bd bg;
                ../, & { rad: 0 0 3px 3px i }
            }
        }
        &-footer {
            c: 0 bd hl;
            /// Project -> Settings -> Pages.
            &.alert-primary { c: blue 0 hl }
            /// Project -> Settings -> CI -> Pipeline triggers.
            pre, code { rad: 4px; c: 0 0 bg }
        }
        /// Dashboard -> Operations.
        &.border-0 {
            border: 1px solid bd i;
            .card-header a { c: fg }
            /// Dashboard -> Environments.
            /.environments-dashboard .dashboard-card {
                box-shadow: none i
                border: none i
                c: 0 0 t
            }
        }
        /// Notes -> Related issues.
        /.related-issues-block .card {
            &-header {
                c: 0 bd hl;
                rad: 3px 3px 0 0;
                &.panel-empty-heading { box-shadow: inset 0 -1px bd }
            }
            /// Linked issues.
            .linked-issues-card-body {
                min-height: 16px;
                rad: 0 0 3px 3px;
                c: 0 0 bb;
                > .card-body { rad: 3px i }
            }
            /// Related issues.
            ul > li {
                /// Input area.
                &, &[class *= 'input'] > input { c: fg 0 hl }
                /// Issue tokens. #112
                /.issue-token {
                    &-reference { c: fg 0 bd }
                    &-remove-button { c: red 0 bd }
                    /// MR -> New MR dependencies. #112
                    /.add-issuable-form-input { c: fg 0 hl }
                }
                /// Rounded corners. @upstream
                &:first-child { rad: 3px 3px 0 0 }
                &:last-child {
                    border-bottom-left-radius: 3px;
                    border-bottom-right-radius: 3px;
                }
            }
        }
        /// Epics -> Epics and issues.
        /.related-items {
            &-tree {
                .item-title a { c: fg }
                .item-meta { c: cm bd }
            }
            &-list {
                .item-body {
                    &.item-closed {
                        c: 0 0 bb;
                        rad: 3px i;
                    }
                }
            }
        }
        /// Notes -> Related merge requests.
        /#merge-requests {
            c: 0 0 bg;
            .card-header {
                c: 0 bd hl;
                rad: 3px 3px 0 0;
            }
            ul li { c: 0 0 t }
        }
        /// Related issues/MRs -> Assignees.
        /.item-assignees:not(#z) .avatar {
            c: 0 hl;
            &-counter {
                c: fg 0 bd;
                rad: var(--avatar);
            }
        }
        /// Dashboard -> Issues/MRs/Todos.
        /[class *= '-filters'] {
            + div[class]:not([class *= 'boards']) {
                &, .card { c: 0 0 t }
                li {
                    border-top: none;
                    c: fg;
                    &:hover { c: 0 0 hl }
                }
            }
            /// Dashboard -> Done todos. #110
            /.done-reversible {
                border-top: none i;
                opacity: 0.6;
                c: 0 0 t;
            }
            /// Epics -> Reset dropdowns.
            &.epics-filters [class *= '-toggle'] { c: 0 0 bg }
        }
        /// Project -> Releases.
        &.linked-card, &.release-block {
            &::after { c: 0 hl }
            > .card-header { c: 0 0 hl }
            > .card-body { c: 0 0 bg }
        }
        /// Help -> Quick help links.
        &.links-card a { c: ac }
        /// Issues/MRs/Epics -> Sortable list.
        /.sortable {
            /// Wrapper.
            &-container {
                c: 0 0 hl;
                &[class *= 'body'] { rad: 0 0 4px 4px }
            }
            /// Items.
            &-row &-link { c: ac }
        }
        /// Epics -> Separator.
        /.epic-discussion-separator { c: 0 bd }
        /// Account -> Billing.
        /.flex-grid {
            .grid { &-row, &-cell { c: 0 bd }}
            .property-label { c: cm }
            .property-value { c: fg }
        }
    }

    // Global -> Skeleton.
    .animation-container {
        sk_gradient = linear-gradient(90deg, bd 0%, hl 50%, bd);
        /// File table.
        [class *= 'skeleton-line-'] {
            c: 0 0 bd;
            &::after { background-image: sk_gradient }
        }
        /// Dashboard -> Operations.
        /[class *= 'card-skeleton-']::after { background-image: sk_gradient }
        /// Spinners.
        /.gl-spinner {
            &&-dark {
                c: 0 bd; border-top-color: ac i
            }
        }
        /// MRs -> Widgets.
        /svg.gl-skeleton-loader rect { v: bd }
    }

    // Global -> Calendar.
    .pika-single {
        margin-top: 10px;
        c: fg bd hl;
        rad: 4px;
        .pika {
            /// Header.
            &-label { c: fg 0 t }
            /// Custom prev/next buttons.
            &-prev, &-next {
                c: fg;
                text-indent: 0;
                background: none;
                &::before {
                    display: inline-block;
                    width: 20px;
                }
            }
            &-prev::before { content: 'â†' }
            &-next::before { content: 'â†’' }
            /// Table.
            &-table {
                border: 1px solid bd;
                /// Cells.
                th:not(#z) {
                    border-top: none i;
                    c: fg t bg;
                }
                td {
                    c: 0 bd;
                    .pika-day {
                        c: fg 0 bb;
                        &:hover, ../[class ^= 'is-'] .pika-day { c: ac 0 hl }
                    }
                    &.is-disabled .pika-day { c: cm 0 t }
                }
                /// Remove border on the bottom.
                tr:last-child > td { border-bottom: none i }
            }
        }
        /// Shadow.
        &.is-bound { box-shadow: bsh }
        /// Global -> Pajamas wrapper.
        /.gl-datepicker-theme {
            font-family: var(--ui-font) i;
            .pika-lendar:not(#z) {
                rad: 4px;
                box-shadow: inner;
            }
        }
    }

    // Global -> Avatars.
    .avatar {
        &, &-circle, &-container {
            text-shadow: 2px 2px 1px sh;
            rad: var(--avatar) i;
            c: fg t;
        }
        &.identicon { c: white }
        &:not(.identicon) { c: 0 t t }
        &.s48 { line-height: 46px }
        &[class *= 'bg'] {
            rad: var(--avatar);
            box-shadow: inset 0 0 0 0.15em sh;
        }
        /// Default colors.
        &.bg0 { c: 0 0 red }
        &.bg1 { c: 0 0 green }
        &.bg2 { c: 0 0 blue }
        &.bg3 { c: 0 0 yellow }
        &.bg4 { c: 0 0 magenta }
        &.bg5 { c: 0 0 cyan }
        &.bg6 { c: 0 0 violet }
        &.bg7 { c: 0 0 orange }
        /// Fallback identicon; Found on 'usage quotas' page.
        &.bgNaN {
            c: 0 0 bd
            box-shadow: none
        }
    }

    // Global -> Page title.
    .page-title {
        c: fg;
        &-holder { c: 0 bd }
        /// Commits -> Details.
        /.commit-box {
            c: 0 bd;
            .commit-title, time { c: fg }
        }
    }

    // Global -> Breadcrumbs.
    .breadcrumb {
        &-item a {
            c: cm;
            /// Project -> File location.
            strong { c: fg }
        }
        &s {
            &-list a { c: cm }
            &-list-angle { v: cm }
            &-container { c: 0 bd }
            &-sub-title a { c: fg }
            &-links img { c: 0 hl hl }
            /// Epics -> Roadmap.
            &.group-epics-roadmap { c: 0 bd }
        }
        /// Project -> File path divider.
        &.repo-breadcrumb > li + li::before { c: cm }
    }

    // Global -> Pagination.
    .pagination {
        .page-link {
            c: fg bd hl;
            &:not(.active):hover {
                c: 0 0 bd;
                box-shadow: none;
            }
            ../ .disabled .page-link {
                opacity: 0.6;
                c: cm 0 hl;
            }
            /// Issues | Pipelines.
            ../ .active .page-link, &.active {
                c: ac 0 bd;
            }
        }
    }

    // Global -> Markdown area.
    .md {
        c: fg;
        h1, h2 { c: fg bd }
        hr { c: 0 bd }
        p { c: fg }
        a { c: ac }
        a, p {
            > code {
                padding: 2px 4px;
                color: inherit i;
            }
        }
        kbd {
            c: 0 bd;
            box-shadow: inset 0 -1px 0 bd i;
            > kbd { c: 0 0 bb }
        }
        blockquote, .blockquote {
            border-left-width: 5px;
            c: cm bd;
            p { c: cm }
        }
        img.lazy { c: 0 0 hl }
        img:not(.emoji) {
            c: 0 bd;
            /// Feat -> Default image opacity.
            if ( md_img_o < 1 ) {
                opacity: md_img_o;
                transition: opacity 0.5s ease;
                &:hover {
                    transition-delay: 0.5s;
                    opacity: 1;
                }
            }
            /// Shields.io badges.
            /[src *= 'style=for-the-badge'],
            &[data-canonical-src *= 'style=for-the-badge'] {
                rad: 4px;
            }
        }
        pre {
            rad: 4px i;
            &.code.white {
                border: 1px solid bd;
                c: fg 0 hl;
                &.highlight { c: 0 0 hl }
            }
            /// Feat -> Set 'none' syntax colors to use theme colors.
            if ( c_hl_none == 1 ) {
                &.code.none {
                    c: fg 0 hl;
                    .line span { c: fg }
                }
            }
        }
        code { font-family: var(--mono-font) i }
        /// Emojis.
        gl-emoji {
            font-size: 1em;
            font-family: var(--emoji-font);
        }
        /// Notes -> Suggested change.
        &-suggestion {
            &-header { c: 0 bd hl }
            &-diff {
                font-family: var(--mono-font) i;
                rad: 0 0 4px 4px i;
                c: 0 bd;
            }
            /// Fix rounded corners.
            tr:last-child > td {
                &:first-child::after { rad: 0 0 0 3px }
                &:last-child::after { rad: 0 0 3px 0 }
            }
        }
        /// Heading anchors.
        .anchor::after {
            content: 'Â§' i;
            c: fg;
        }
        /// Fix task lists. #111
        /.task-list { c: fg }
    }

    // Global -> Swagger UI. #101
    .swagger-ui {
        position: relative;
        z-index: 1;
        /// Header.
        .info {
            .title { c: fg }
            & a, ../ link a { c: ac }
        }
        /// Base resets.
        button.btn {
            c: fg bd hl;
            ../ .arrow { v: fg }
            &.execute { c: white blue blue }
            ../ .download-contents { c: fg 0 bd }
        }
        input, textarea {
            c: fg bd hl;
            &[disabled] {c: cm bd hl; opacity: 0.6 }
        }
        &, h3, h4, h5 { c: fg }
        select { c: fg bd hl; box-shadow: none i }
        /// Mixin for `method_colors` styles.
        method_colors(method, color) {
            &-{ method } {
                c: 0 color t;
                position: relative;
                &::before { content: ''; c: 0 0 color }
                .tab-item.active h4 span::after,
                .opblock-summary-method {
                    c: 0 0 color;
                }
            }
        }
        /// Blocks.
        .opblock {
            &-tag { c: fg bd }
            &-section p { c: cm }
            &-title, &-section-header h4 { c: fg }
            &-section-header {
                c: 0 0 hl;
                box-shadow: 0 1px bd, 0 -1px bd i;
            }
            &-summary {
                &-path, &-operation-id, &-path__deprecated { c: fg }
                &-description { c: cm }
            }
            /// Theme colors for methods.
            &::before {
                z-index: -1;
                opacity: 0.1;
                position: absolute;
                top: 0; right: 0; bottom: 0; left: 0;
            }
            method_colors(get, blue);
            method_colors(put, orange);
            method_colors(post, green);
            method_colors(patch, cyan);
            method_colors(delete, red);
        }
        .model {
            c: fg;
            &-title { c: fg }
            &-toggle::after { filter: invert(1) }
            &s {
                c: 0 bd;
                > h4 { c: 0 bd hl }
            }
        }
        .prop {
            &-format { c: cm }
            &-type { c: violet }
        }
        .parameter {
            &__name { c: fg }
            &__name::after { c: red }
            &__in, &__type { c: cm }
        }
        pre.microlight {
            c: fg bd hl;
            span:not(#z) { c: fg }
        }
        .scheme-container {
            c: fg 0 bg;
            box-shadow: 0 -1px bd, 0 1px bd;
        }
        /// Reset table elements.
        table:not(#z) {
            padding: 0;
            &, th:not(#z), td { c: fg t t }
            span { &[class = ''], &:not([class]) { c: cm }}
        }
        /// Reset various colors.
        .tab li::after { c: 0 0 cm }
        a.tablinks, [class *= 'brace-'] { c: fg }
        :not(#z) [style *= 'color: red']:not(#z) { c: red }
    }

    // Pajamas -> Banners.
    .gl-banner {
        c: fg bd hl;
        /.close {
            c: cm;
            text-shadow: none;
        }
        /// New button.
        /.new-gl-button {
            c: 0 0 bd;
            box-shadow: inner;
            &:hover {
                opacity: 0.8;
                box-shadow: inner;
            }
        }
        /// Feat -> Invert illustrations/images.
        if ( img_invert == 1 ) {
            /.mermaid:not(.code),
            /.artwork,
            /.group-empty-state > .icon,
            /.empty-state .svg-content > svg,
            /.devops-empty > div > svg,
            /.blank-state-icon > svg,
            /.svg-container > svg,
            /.commits-empty > svg,
            /img[src ^= 'img/']:not([src *= 'logo']),
            /img[src *= '/help/img/'],
            /img[src *= 'assets/promotions/'],
            /img[src *= 'assets/illustrations/'],
            /#oauth-login-github > img {
                filter: invert(0.8) brightness(110%) hue-rotate(180deg);
                box-shadow: none i;
            }
        } else {
            /.empty-state .svg-content > svg,
            /img[src *= 's/illustrations/'] {
                filter: invert(0.1) hue-rotate(0deg);
            }
        }
    }

    // Pajamas -> Alerts.
    .gl-alert {
        z-index: 1;
        &-body, &-actions {
            a {
                font-weight: bold;
                color: currentColor i;
            }
        }
        /// Close button.
        .js-close {
            color: currentColor;
            svg { fill: currentColor i }
        }
        /// Background.
        &::before {
            z-index: -1;
            opacity: 0.15;
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
        }
        /// States.
        &-warning {
            c: orange 0 hl;
            .gl-alert-icon { v: orange }
            &::before { content: ''; c: 0 0 orange }
        }
        &-danger {
            c: red 0 hl;
            .gl-alert-icon { v: red }
            &::before { content: ''; c: 0 0 red }
        }
        &-success {
            c: green 0 hl;
            .gl-alert-icon { v: green }
            &::before {content: ''; c: 0 0 green }
        }
        &-info {
            c: blue 0 hl;
            .gl-alert-icon { v: blue }
            &::before { content: ''; c: 0 0 blue }
        }
        &-tip {
            c: fg 0 hl;
            .gl-alert-icon { v: fg }
            &::before { content: ''; c: 0 0 cm }
        }
        /// Global -> Old alerts.
        /.flash-container {
            c: 0 0 bg;
            > div {
                position: relative;
                &::before {
                    content: '';
                    opacity: 0.25;
                    position: absolute;
                    top: 0; right: 0; bottom: 0; left: 0;
                }
                svg { fill: currentColor i }
            }
            .flash-alert {
                c: red 0 t;
                &::before { c: 0 0 red }
            }
            .flash-warning {
                c: orange 0 t;
                &::before { c: 0 0 orange }
            }
            .flash-notice {
                c: blue 0 t;
                &::before { c: 0 0 blue }
            }
            .flash-success {
                c: green 0 t;
                &::before { c: 0 0 green }
            }
            /// Increase top offset when nb_height is enabled.
            if ( nb_height == 1 ) {
                &.sticky { top: 58px i }
            }
        }
        /.alert {
            &&-info, &&-primary { c: blue blue hl }
            &&-warning { c: orange orange hl }
            &&-success { c: green green hl }
            &&-secondary { c: cm bd hl }
            &&-danger { c: red red hl }
            &&-light { c: fg bd hl }
            h4 { color: inherit i }
            /// Broadcast messages found on `git.synz.io`.
            /[class *= 'broadcast-banner'] {
                svg { v: white }
                .fa { c: white }
            }
            /// Broadcast notifications. #115
            /.broadcast-notification-message {
                c: 0 bd hl;
                box-shadow: bsh;
                .btn { c: fg }
                /// Fix links. #120
                a { c: ac }
            }
        }
        /// Issues -> Reset issue template.
        /[role = 'alert'] {
            &[class *= '_message']:not([class *= 'epic']) { rad: 4px }
            &, / { .warning_message:not(#z) { c: orange orange hl }}
            &, / { .danger_message:not(#z) { c: red red hl }}
        }
    }

    // Pajamas -> Toggles.
    .gl-toggle, .project-feature-toggle {
        c: 0 0 bd;
        .toggle-icon {
            c: 0 0 bg;
            svg { v: cm }
        }
        &.is-checked {
            c: 0 0 ac;
            svg { v: ac }
        }
    }

    // Pajamas -> Forms.
    .gl-form {
        /// Checkbox label color.
        &-checkbox { c: fg }
        /// Inputs.
        &-input { box-shadow: none i }
        /// Select menu.
        /.custom-select { c: fg bd hl }
        /// Project -> Releases -> Edit release.
        /// Fix whitespace/focus. @upstream
        &-group .bordered-box.pl-3 {
            padding: 0 i;
            c: 0 0 bg;
            > .md-area {
                margin 0 i;
                padding 10px i;
                rad: 4px;
            }
            &:focus-within { c: 0 blue }
        }
        /// Project -> Settings -> Operations.
        &-input.form-control { c: 0 0 hl }
        /// Project -> Reset search bar background.
        &-input[placeholder] { c: 0 0 bg }
        /// Project -> Settings -> Integrations.
        /.help-form .form-group {
            form, .form-control, code { c: 0 0 bg }
            /// Audit Events -> Date range.
            /.form-group > label + input { c: 0 0 hl }
        }
    }

    // Pajamas.
    .gl {
        /// Search area.
        &-filtered-search {
            /// Wrapper.
            &-scrollable {
                c: 0 0 bg;
                rad: 4px 0 0 4px;
                box-shadow: inner i;
                input { c: fg 0 t }
            }
            /// Token menu.
            &-suggestion-active {
                c: 0 0 bd;
                a, p { c: fg }
            }
            &-token-operator-description { c: cm }
        }
        /// Search tokens.
        &-token {
            &-close { c: cm }
            &-content { c: fg }
            &.gl-filtered-search-token {
                &-type, &-operator { c: 0 0 hl }
                &-data { c: 0 0 bd }
            }
        }
        /// Search button.
        &-search-box-by-click-search-button {
            border: 1px solid bd;
        }
        /// Text color overrides.
        &-text {
            &-body { c: fg }
            &-orange-500:not(#z) { c: orange; v: orange }
        }
        /// Background-color overrides.
        &-bg {
            &-white { c: 0 0 bb }
            &-gray-10 { c: 0 0 bg }
            &-gray-50 { c: 0 0 hl } // #139
            &-green-100.gl-text-green-800 { c: white green green }
            &-blue-50 { c: 0 0 blue } // #137
        }
        /// Border-color overrides.
        &-border-gray {
            &-100, &-200 { c: 0 bd }
            /.border { border: 1px solid bd i }
        }
        &-border {
            &-b-gray-100 { c: 0 bd }
        }
        /// Box-shadow overrides.
        &-inset-border {
            &-1-gray-100 { box-shadow: inset 0 0 0 1px bd }
        }
        /// Dropdowns.
        &-new-dropdown {
            p { c: fg }
            button[class*='close'] { c: 0 t t }
        }
    }

    // Pajamas -> GFM.
    .gfm {
        c: fg;
        /// Links.
        &&-issue, &&-merge_request, &&-epic, &&-milestone { c: ac }
        &&-commit {
            &, &_range {
                font-family: var(--ui-font);
                font-size: 100%;
            }
            &, &_range > code { c: ac }
        }
        /// Color chips. #71
        &-color_chip > span { c: 0 t }
        /// Members and mentions.
        &&-project_member {
            z-index: 1;
            padding: 1px 3px;
            position: relative;
            text-decoration: none i;
            transition: 0.2s ease;
            font-weight: 500;
            c: ac 0 t;
            &::before {
                z-index: -1;
                content: '';
                opacity: 0.2;
                position: absolute;
                top: 0; right: 0; bottom: 0; left: 0;
                transition: inherit;
                rad: inherit;
                c: 0 0 ac;
            }
            &:hover::before { opacity: 0.4 }
            &.current-user {
                c: white 0 ac;
                &:hover { opacity: 0.7 }
            }
        }
        /// Forms.
        &-form {
            /// Notes -> Suggestions.
            /.suggestion {
                c: fg;
                /// Icon states.
                &-confidential.s16 { v: orange }
                &-state-closed.s16 { v: blue }
                &-state-open.s16 { v: green }
            }
        }
        /// Pajamas -> Labels.
        /.gl-label {
            c: 0 0 bd 0 0 0
            &-label-link { c: 0 0 t }
            &-text {
                &-light { text-shadow: 1px 1px 0 sh }
                /// Fix dark-on-dark label name in notes/sidebar.
                &-dark[style *= 'background-color'] + &-dark,
                &-dark > .gl-label-link > span:nth-child(2),
                &[style = 'color: rgb(51\, 51\, 51);'] {
                    c: fg;
                }
                /// Add dark overlay to badges.
                ../[style*='--label-inset-border']:not(:hover) {
                    [class*='text-scoped'] { z-index: 1 }
                    &::after {
                        z-index: 0
                        content: ''
                        position: absolute
                        top: 0; left: 0; bottom: 0; right: 0
                        box-shadow: inset 0 0 0 1rem sh i
                    }
                }
            }
            &-link, ../-label { &:not(#z) { color: inherit i }}
            &-icon[href ^= '/help'] { > .fa, > svg { c: cm }}
            /// Remove background from 'remove' buttons.
            &-close svg { fill: currentColor i }
            /// Issues -> Fix badge colors in Boards.
            &:not([style*='label-background']) { c: 0 0 bd }
        }
        /// Project -> Releases -> New release resets.
        &-form[action $= 'tags'] {
           .form-control, .dropdown-menu-toggle { c: 0 0 bg }
        }
    }

    // Pajamas -> Modals.
    /// NOTE: The `gl-modal` exists, but it is not widely used.
    .modal {
        c: 0 0 t;
        /// Content.
        .modal-content {
            c: fg bd bg;
            .modal-header {
                c: 0 bd hl;
                .close { c: cm }
            }
            .modal-body {
                c: 0 0 t;
                .modal-subheader { c: 0 bd }
                /// Shortcuts.
                table th { c: fg }
                table td { c: cm }
            }
            .modal-footer {
                c: 0 bd hl;
                .btn-secondary { c: 0 0 bg }
            }
            /// Project -> Reset 'Email a new issue/MR' buttons.
            .btn {
                &-clipboard:not(#z) { c: 0 bd hl }
                /// 1px height mismatch. @upstream
                &[href *= 'mailto:'] { height: 34px }
            }
        }
        /// Background.
        &-backdrop {
            opacity: 0.85 i;
            c: 0 0 bb;
        }
        /// Fix body content shift when modal is open. @upstream
        /body.modal-open { padding-right: 0px i }
        /// Project -> Drag'n'drop preview.
        /.dropzone {
            &-previews { c: 0 bd }
            /.markdown-selector { color: ac }
            /// Issues -> Design -> Card text color. @upstream
            /.design-dropzone-card .text-center { c: fg }
        }
        /// Dashboard -> Operations -> Add projects.
        /#add-projects-modal {
            .gl-form-input { c: 0 0 hl }
            .gl-infinite-scroll {
                /// Reset buttons.
                &-container .btn {
                    c: 0 0 t;
                    &:focus, &.focus {
                        c: 0 0 hl;
                        box-shadow: none i;
                    }
                }
                /// Result count.
                &-legend { c: cm }
            }
        }
        /// Settings -> Authorize an application.
        &-doorkeepr-auth > &-content {
            c: 0 bd bg
            .modal-header { c: 0 bd t }
            .modal-body {
                c: 0 0 t
                .form-actions { c: 0 0 hl }
            }
        }
    }

    // Pajamas -> Popovers.
    .gl-popover {
        font-family: var(--ui-font);
        rad: 4px;
        c: 0 bd hl;
        box-shadow: bsh i;
        &-header { c: 0 bd hl }
        &-body {
            padding: 8px;
            c: fg;
            ../.blue { c: 0 0 blue }
        }
        /// Blue popovers.
        /.arrow {
            color: hl;
            ../.blue .arrow { c: blue }
        }
        /// Arrows.
        /[class *= '-top'] {
            .arrow::before { border-top-color: bd i }
            .arrow::after { border-top-color: inherit i }
        }
        /[class *= '-bottom'] {
            .arrow::before { border-bottom-color: bd i }
            .arrow::after { border-bottom-color: inherit i }
        }
        /[class *= '-left'] {
            .arrow::before { border-left-color: bd i }
            .arrow::after { border-left-color: inherit i }
        }
        /[class *= '-right'] {
            .arrow::before { border-right-color: bd i }
            .arrow::after { border-right-color: inherit i }
        }
        /// Signed commits.
        /.gpg-popover {
            &-icon.valid svg { c: 0 green; v: green }
            &-icon.invalid svg { c: 0 red; v: red }
            &-user-link { c: fg }
        }
        /// Milestones.
        .milestone-popover-body { c: 0 0 t }
        .milestone-popover-footer { c: 0 bd 0 }
        /// Status.
        .js-user-status { c: cm }
        /// Old tooltips.
        /.tooltip {
            &.show { opacity: 1 }
            &-inner {
                c: fg 0 hl;
                border: 1px solid bd;
                box-shadow: bsh;
                [class *= 'share'] { c: cm }
                [class *= 'scoped-label'] { c: ac }
                /// Issues -> Assignee.
                .text-white-50 { c: cm; opacity: 0.5 }
            }
            &[class *= 'bottom'] .arrow::before { border-bottom-color: bd }
            &[class *= 'right'] .arrow::before { border-right-color: bd }
            &[class *= 'left'] .arrow::before { border-left-color: bd }
            &[class *= 'top'] .arrow::before { border-top-color: bd }
        }
        /// Old popovers.
        /.popover {
            border: 1px solid bd;
            c: fg 0 hl;
            box-shadow: bsh;
            &-header { c: fg bd hl }
            &-body { c: fg }
        }
        /// Onboarding. NOTE: Untested with v1.0 code.
        /.onboarding-helper-container {
            c: 0 0 bg;
            box-shadow: inner, 0 4px 8px 0 sh;
            .avatar {
                rad: 50% i;
                c: 0 0 bd;
                box-shadow: inner;
            }
            .progress { c: 0 0 bd }
            .bg-info { c: 0 0 blue }
            .text-info { c: blue }
            .active { c: 0 0 bd }
            .qa-toggle-btn {
                c: 0 0 t;
                &:hover svg { v: fg }
            }
        }
    }

    // Project -> 'No repository' header.
    .slead {
        c: cm;
        + hr + .no-repo-actions {
            .btn-primary {
                c: ac ac t;
                &::before { content: ''; c: 0 0 ac }
            }
        }
        /// Request access.
        /.access-request-link { c: 0 bd }
        /// Mirrored repository -> Fix time color.
        /.home-panel-description + p time { c: fg }
    }

    // Project -> Empty repository.
    .git-empty {
        h5 { c: fg }
        pre.bg-light {
            c: 0 0 hl;
            rad: 4px;
        }
    }

    // Project -> Latest commit.
    .info-well {
        c: fg bd hl;
        .commit-row-message, .committer a { c: fg }
        /// Center the SHA-value box.
        .commit-actions { align-self: center }
        /// Diff -> Commit info.
        .branch-info {
            c: 0 bd;
            .badge { c: 0 0 bd }
            /// 'Parent commit' text color.
            .cgray { c: fg }
        }
        svg path { v: cm }
        /// Commits -> Unavailable branches.
        .limit-box {
            c: white 0 red;
            .fa { c: white }
            /// Icon position. @upstream
            ../ .branches .s12 { margin-top: 2px }
        }
        /// Diff -> More info / Code owners..
        .well-segment {
            c: 0 bd;
            /// Project settings -> Integrations.
            code:not([class]) { c: 0 0 bg }
        }
    }

    // Project -> Files.
    .table-holder {
        /// Remove border.
        &.bordered-box { border: none i }
        /// Project -> File -> Blame.
        /.blame {
            /// Fix table cell borders.
            tr:not(:first-child) > td { border-top: 1px solid bd i }
            /// Legend box.
            /.file-blame-legend { c: 0 bd hl }
            /// Commits.
            &-commit {
                position: relative;
                padding-left: 12px i;
                border-left: none i;
                &::before {
                    content: '';
                    position: absolute;
                    top: 0; left: 0; bottom: 0;
                    width: 4px;
                }
                /// Whitespace between avatar and content.
                .commit > a[href] > img { margin-right: 10px }
                /// Background for commit details.
                /^[1] &:not(#z) { c: 0 0 hl }
                + .line-numbers:not(#z) {
                    border-left: 1px solid bd i;
                    c: 0 0 hl;
                    rad: 0;
                }
            }
            /// Text colors.
            .commit-author-link, .cdark { c: fg }
            .commit-sha { c: ac }
            /// Custom legend/age colors..
            for i in 0..9 {
                /.legend-box-{ i }, &-commit-age-{ i }::before {
                    c: 0 0 green;
                    opacity: s(('0.%s99'), i);
                }
            }
        }
    }

    // Project -> Readme.
    .readme-holder {
        c: 0 bd bg;
        /// Header.
        [class *= 'file-title'] {
            padding: 10px 16px;
            rad: 4px 4px 0 0;
            strong { font-weight: normal }
            a:not(.btn) { c: fg }
        }
        /// Body.
        .file-content {
            c: 0 0 t;
            /// HACK: GitHub-alike styles.
            [dir][align='left'] { text-align: left }
            [dir][align='right'] { text-align: right }
            [dir][align='center'] { text-align: center }
            a img:not(.emoji) {
                box-sizing: content-box;
                margin: 0 i;
                c: 0 0 bg;
                &[align='left'] { padding-right: 20px }
                &[align='right'] { padding-left: 20px }
            }
            h1, h2, h3, h4, h5, h6 { position: relative }
            &::before, &::after {
                content: '';
                display: table;
            }
            &::after { clear: both }
        }
    }

    // Project -> Commits.
    .commit {
        &ter { c: cm }
        & &-author-link { c: fg }
        &, /.generic-commit-status { a { color: fg }}
        &-header {
            c: fg bd hl;
            &:first-child { border-top-width: 1px }
        }
        /// Edit file -> Commit message.
        &-message-container {
            font-family: var(--mono-font);
            c: 0 0 t;
        }
    }

    // Project -> Pipelines.
    .pipeline-graph {
        /// Pipelines -> Tab background.
        &.pipeline-tab-content { c: 0 0 hl }
        /// Pipelines -> Stages.
        .build {
            width: 100% i;
            &-content {
                c: 0 bd bg;
                &:hover { c: 0 0 bb }
            }
            /// Downstream.
            .linked-pipeline-content {
                c: 0 bd bg;
                rad: 8px i;
                &::before { content: unset i }
                &:hover { c: 0 0 bb }
            }
            /// Connectors.
            ../ .curve, &:not(first-child), /.stage-container {
                &::before, &::after { c: 0 bd }
            }
            /.ci {
                /// Fix CI job text weight/color.
                &-build-text, &-status-text {
                    font-weight: normal i;
                    c: fg;
                }
            }
            /// Dropdowns -> Focused menu toggle.
            /div[class *= 'mini-pipe'] {
                &:focus { box-shadow: 0 0 4px 0px ac i }
                li:hover [class *= 'dropdown-item'] { c: 0 0 bd }
            }
        }
    }

    // Project -> Pipelines -> Build page.
    .build-page {
        .top-bar {
            z-index: 99;
            c: fg bd hl;
            rad: 4px 4px 0 0;
            if ( nb_height == 1  ) { top: 49px i }
        }
        .job-log {
            border: 1px solid bd;
            border-top: none;
            c: fg 0 bg;
            box-shadow: none;
            rad: 0 0 4px 4px;
        }
        .line-number { c: cm }
        .collapsible-line {
            .log-duration-badge { c: 0 0 bd }
            &:hover { c: 0 0 hl }
        }
        /// Terminal text colors.
        .term {
            &-fg-l-red { c: red }
            &-fg-l-blue { c: blue }
            &-fg-l-cyan { c: cyan }
            &-fg-l-green { c: green }
            &-fg-l-yellow { c: yellow }
            &-fg-l-magenta { c: magenta }
        }
        /// Remove right padding. @upstream
        div.build-trace-container { padding-right: 0 i }
        /// Jobs -> Failed jobs.
        /.build-trace {
            border: 1px solid bd;
            c: fg 0 hl;
            &-container { padding-right: 16px i }
        }
    }

    // Project -> Issues/MR/Epics.
    .detail-page {
        /// Header.
        &-header {
            c: cm bd;
            /.author { c: fg }
            /// MRs -> Editor button.
            a { color: cm }
            /// Notes -> Locked issue.
            &-body .issuable {
                &-warning-icon {
                    c: 0 0 bd;
                    svg { v: orange }
                }
            }
        }
        /// Milestones -> Details.
        &-description {
            &, .title { c: 0 bd }
        }
        /.page-content-header {
            /// Issues/Jobs -> Page header -> Author link.
            time, [class *= '-link'] { c: fg }
            /// Jobs -> Browse artifacts -> Page header.
            .header-content a { c: fg }
        }
        /// Description.
        &-description {
            .title { c: fg }
            small { c: cm }
            /.edited-text { &, .author-link { c: cm }}
        }
        /// Notes/Dashboard -> Search/filter results.
        /.filtered-search {
            &-box {
                rad: 4px;
                c: 0 bd hl;
                min-height: 36px;
                ul { padding: 0 i }
                input {
                    padding-left: 12px i;
                    border: none i;
                    c: 0 0 t;
                    &:focus { box-shadow: none i }
                }
                .clear-search {
                    rad: 4px;
                    c: 0 0 bg;
                }
                &.focus { c: 0 blue }
                /// Input wrapper background. #126
                &-input-container { c: 0 0 t }
            }
            /// Dashboard -> Issues/MRs.
            &-token, &-term {
                .name, .operator, .value-container { c: fg 0 bd }
                ../-token:first-child { margin-left: 5px }
                /// Text input is also tokenized.
                > .name { c: 0 0 t }
            }
        }
    }

    // Project -> MRs -> Widgets.
    .mr-state-widget {
        /// Merge target.
        .mr-source-target { c: fg bd bg }
        /// Headings.
        /.mr-widget-heading { c: fg bd bg }
        /// Collapse.
        .mr-widget-extension {
            c: fg bd hl;
            box-shadow: 0 1px bd i;
            &:last-child { rad: 0 0 3px 3px }
            .label-branch { c: 0 0 bg }
            /// Reset approvers table.
            + .border-top > table:not(#z) {
                margin-bottom: 0px i;
                border: none i;
                rad: 0 0 3px 3px i;
                thead > tr > th { c: 0 0 bb }
            }
        }
        /// Global widgets.
        .mr-section-container {
            border: 1px solid bd i;
            c: 0 0 bg;
            &::before { c: 0 hl }
            /// Ready for (fast-forward) merge. #116
            > .mr-widget-section { rad: 0; c: fg bd }
            /// Help.
            .mr-widget-help { c: cm }
            /// Empty MR notice.
            .mr-widget-empty-state { c: fg }
        }
        /// Tweaks for borders.
        .mr-widget {
            /.mr-widget-workflow {
                &::before { border-width: 2px; c: 0 hl }
                > :first-child { border-top: none }
            }
            &-border-top { c: 0 bd }
            &-info { c: fg }
        }
        /// Code quality and other reports. #64
        /.report-block {
            c: fg;
            &-list-issue {
                &-parent { c: 0 bd bg }
                &-description { c: fg }
            }
            &-container {
                c: 0 bd bb;
                /// Icons.
                /.failed > svg { v: red }
                /.neutral > svg { v: cm }
                /.success > svg { v: green }
            }
        }
        /// Reset tables.
        .border-top {
            c: 0 bd;
            .table tr:not(:first-child) > td { border-top: 1px solid bd i }
        }
        /// Fix 'WIP status' for users that cannot merge. @upstream
        .mr-widget-body.media {
            .square + button { margin-right: 10px }
            .bold { margin-left: 0; c: cm }
        }
        /// Fix deployment colors.
        .deploy-heading, .merge-train-position-indicator { c: 0 bd hl }
        /// Pipelines -> Downstream icon in linked pipelines. @upstream
        /.linked-pipeline-mini-list.is-downstream {
            /// Reset position.
            > svg.arrow-icon + a[href] { margin-top: 5px i }
            /// Reset size.
            [class *= 'ci-status'] {
                c: 0 0 hl
                &, .s16 { width: 24px i; height: @width }
                &:hover > .s16 { width: 22px i; height: @width }
            }
        }
        /// Fix CI status text color. #135
        .ci-widget { c: fg }
        /// Footer.
        .mr-widget-footer {
            c: 0 bd;
            .btn-link { c: ac }
        }
        /// Reset for pipeline/commit/branch selectors.
        .pipeline-number, .commit-sha, .label-branch {
            padding: 0.2em 0.4em;
            font-weight: normal i;
            color: ac;
            c: 0 0 hl;
            rad: 4px;
            box-shadow: inner;
            &.label-truncate > a { line-height: 1.2 i }
        }
        /// Text colors.
        .bold, .media-body, .code-text, .label-branch { c: fg }
        .diverged-commits-count, .coverage { c: cm }
    }

    // Project -> Wiki.
    .wiki {
        /// Page title.
        &-last-edit-by {
            c: cm;
            strong { c: fg }
        }
        /// Sidebar -> Navigation.
        &-sidebar.right-sidebar {
            a { c: cm }
            .active a { c: ac }
            .btn { c: 0 0 bg }
        }
        /// New page -> Reset inputs.
        &-form .form-control { c: 0 0 bg }
        /// Page history -> Tweak tables.
        &-page-header + .table-holder > table {
            margin-top: 10px;
            border: 1px solid bd;
            thead > tr > th { border-top: none }
            tbody > tr:hover { c: 0 0 bb }
        }
    }

    // Project -> Clusters
    .clusters {
       &-container &-table {
         c: 0 bd hl;
       }
     }

    // Project -> Settings.
    .project {
        /// Grouped options.
        &-visibility-setting, &-feature-settings, /.sub-section {
            c: 0 bd hl;
            .bs-callout { c: 0 0 bd }
        }
        /// Sections.
        /.settings {
            c: 0 bd;
            ../-feature-row .form-control { c: 0 0 bg }
            &-message { c: orange orange bg }
            .account-well {
                c: 0 bd hl;
                /// Project -> Settings -> Mirroring repositories.
                li > code { c: 0 0 bg }
            }
            /// Protected branches/tags.
            .protected-branches-list > .table-bordered { border: none i }
            .protected-tags-list { border: 1px solid bd i; rad: 4px }
            /// General -> Advanced section.
            &-content .sub-section {
                rad: 4px;
                .btn-default, .form-control, .select2-choice { c: 0 0 bg }
                /// Buttons -> Archive project/Change path.
                .btn-warning {
                    transition: opacity 0.2s ease;
                    c: white 0 orange;
                    &:hover { opacity: 0.8 }
                    &::before { content: unset i }
                }
            }
        }
        /// Project -> Tweaks for multiple rows of badges.
        &-badges {
            margin-top: -0.5rem
            img { margin-top: 0.5rem; rad: 4px }
        }
    }

    // Project -> File viewer.
    .file-holder {
        c: 0 bd;
        /// Header.
        .file-title {
            c: 0 bd hl;
            /// Search -> Code.
            &-flex-parent {
                c: fg bd hl;
                /// Header buttons.
                .btn {
                    svg { v: cm }
                    &.active { c: 0 0 bd }
                    &, &-default { c: 0 0 bg }
                    &-danger-secondary { c: red red }
                    &-default-tertiary:not(#z) { c: 0 t t }
                    /// Dashboard -> Snippets.
                    &-primary, &-info {
                        &:not(.btn-inverted) { c: 0 0 blue }
                        svg { v: white }
                    }
                }
                /// Fix anchors for both cases.
                ../, & { a:not(.btn) { c: fg }}
            }
            &-name { c: fg }
        }
        .file-content {
            c: 0 0 bg;
            rad: 0 0 3px 3px;
            /// Fix code area background.
            pre.code.highlight.white:not([lang]) { c: 0 0 bg }
        }
        /// Global -> Code styles.
        /.code.white { c-hl-none } {
            /// Gutters.
            .line-numbers, .diff-line-num {
                c: 0 0 hl;
                a {
                    font-family: var(--mono-font);
                    c: cm;
                }
            }
            /// Hover state.
            code > span.line:hover { c: 0 0 hl }
            /// NOTE: Inconsistent use of line-num parent element.
            .line-numbers > .diff-line-num { c: 0 0 t }
            /// Show unchanged lines.
            .line_expansion {
                c: 0 0 hl;
                td { c: 0 bd }
                a, span { c: cm }
                /// Add missing top border.
                &:not(:first-of-type) > td { border-top: 1px solid bd i }
            }
            /// Highlighted line.
            pre .hll {
                z-index: 1 i;
                position: relative;
                c: 0 0 t;
                &::before {
                    content: '';
                    z-index: -1 i;
                    opacity: 0.20;
                    position: absolute;
                    top: 0; right: 0; bottom: 0; left: 0;
                    c: 0 0 yellow;
                }
            }
            /// Diffs.
            .new .idiff { c: fg 0 t; box-shadow: inset 0 0 0 1rem lgreen }
            .old .idiff { c: fg 0 t; box-shadow: inset 0 0 0 1rem lred }
            /// Code area.
            /pre.code {
                /// Resets colors when syntax is set to white.
                /.code.white & { c: fg bd bg }
                /// Feat -> Set 'none' syntax colors to use theme colors.
                if ( c_hl_none == 1 ) {
                    /.code.none & {
                        c: fg bd hl;
                        /// Tokens are still there in the file viewer.
                        .line span { c: fg }
                    }
                }
                /// Syntax highlighting.
                /.code.white {
                    /// Package links.
                    .line > a { c: blue }
                    /// Errors.
                    .err { c: white 0 red }
                    /// Additions/deletions.
                    .gi { c: green 0 bb }
                    .gd { c: red 0 bb }
                    /// Tokens.
                    .c, .cm, .c1, .gh, .nn, .go, .gt { c: cm }
                    .n, .cp, .gp, .s, .s1 { c: fg }
                    .no, .na, .nb { c: cyan }
                    .sx, .se, .sh, .s2 { c: red }
                    .sr, .vi, .mf, .ne, .nv { c: green }
                    .nt, .m, .mi, .mh { c: blue }
                    .nf, .ss, .si, .nc { c: magenta }
                    .ni, .gu, .sb, .kt { c: violet }
                }
            }
        }
        /// Fix missing border-top style. @upstream
        /.file-title {
            &, &-flex-parent {
                border-top: 1px solid bd i;
                rad: 4px 4px 0 0;
            }
        }
    }

    // Project -> Diff viewer.
    .diff-file {
        /// Header.
        .file {
            /// Increase top offset when nb_height is enabled.
            if ( nb_height == 1 ) {
                &-title, &-title-flex-parent {
                    top: 165px;
                    ~/.conflict ^[-1..-2] { top: 49px i }
                    &.is-commit, &.is-compare { top: 117px }
                    /// Commit details inconsistency. @upstream
                    /.sticky-placeholder + div .is-commit { top: 86px i }
                }
            }
            &-title, &-title-flex-parent {
                // border-top: none i;
                box-shadow: none i;
                .btn:not(.active) { c: 0 0 bg }
                /// Diff -> Hide comment toggle/avatars.
                &::before { c: 0 0 bb }
            }
        }
        /// Content.
        .diff-content {
            c: fg 0 bg;
            /// Collapsed diff / Empty files.
            /.nothing-here-block {
                c: cm;
                .click-to-expand { c: ac t t }
            }
            /// Image diff.
            .image {
                c: 0 0 bg;
                .frame {
                    c: 0 0 t;
                    &.added { c: 0 green }
                    &.deleted { c: 0 red }
                    img {
                        grad = 45deg, bd 25%, t 25%, t 75%, bd 75%, bd 100%;
                        background-image: linear-gradient(grad), linear-gradient(grad);
                        c: 0 bd;
                        &:-moz-broken::before { content: 'broken image' }
                    }
                }
                &-info { c: cm }
                ~ .note-container { c: 0 t t }
            }
            /// Image preview modes.
            .view-modes {
                c: 0 0 t;
                li { c: cm bd }
                .active { c: fg }
            }
            /// Notes -> Code discussion borders.
            .notes_holder td { border-top-color: bd i }
            .notes_holder td, .diff-discussions {
                border-bottom-color: bd i;
            }
        }
        /// Diff -> Change summary.
        &s-changed {
            c: 0 bd bb;
            > div > .dropdown {
                margin-left: 0;
                padding-left: 0;
                c: 0 0 t;
            }
            /.cred:not(#z) { c: red; v: red }
            /.cgreen:not(#z) { c: green; v: green }
            /.diff-changed-file-path { c: cm }
            [class *= 'summary-toggle'] {
                c: blue 0 t;
                /// Reset hover styles.
                &::before { content: unset }
            }
            /// Increase top offset when nb_height is enabled.
            if ( nb_height == 1 ) { top: 49px }
        }
        /// Diff -> Active file.
        &.is-active { box-shadow: bsh i }
        /// Diff -> File tree.
        /.diff-tree-list {
            if ( nb_height == 1 ) { top: 165px i }
            /// Resize handle.
            .drag-handle {
                &:hover { c: 0 0 hl }
                &.is-dragging { c: 0 0 bd }
            }
            /// Items.
            .file-row {
                &:hover, &:focus { c: 0 0 hl }
                &-header.bg-white { c: 0 0 bb }
                /// Active item. #129
                &.is-active { c: 0 0 bd }
            }
        }
        /// MR -> Resolve conflicts. #82
        &.conflict {
            border-top: none i;
            .head, .origin {
                position: relative;
                &::before {
                    content: '';
                    opacity: 0.35;
                    position: absolute;
                    pointer-events: none;
                    top: 0; right: 0; bottom: 0; left: 0;
                }
            }
            /// Modes.
            .line_content:not(.header) {
                &.head::before, &.origin::before { opacity: 0.25 }
                &.selected::before { opacity: 0.25 i }
            }
            .unselected {
                &:not(#z)::before { c: 0 0 bd }
                .btn { opacity: 0.5 }
            }
            .selected::before { opacity: 0.5 i }
            .head { &::before, > .btn { c: 0 green green }}
            .origin { &::before, > .btn { c: 0 blue blue }}
            /// Edit inline.
            .editor-wrap.saved .editor { c: 0 green }
        }
    }

    // Project -> Code area.
    .code.white { c-hl-none } {
        c: fg 0 bg 0 0 0;
        .line_holder {
            /// Override the default text color.
            &:not(#z) > td { c: fg }
            /// Buttons -> Add new note.
            /button.add-diff-note {
                padding: 0 0 1px 1px;
                c: fg bd bg;
                &:hover { c: 0 0 hl }
            }
            /// Unfold lines.
            .unfold:not(#z) {
                c: cm;
                /// Hide hover.
                &::before { content: unset }
            }
            /// Matching and 'No newline at end of file' lines.
            &.match, &.new-nonewline {
                &:not(#z) {
                    c: 0 0 hl;
                    .line_content { c: cm }
                }
            }
            /// Line numbers.
            .diff-line-num {
                z-index: 1;
                padding-right: 11px;
                border-right: none i;
                box-shadow: inset -1px 0 bd;
                &.new, &.old {
                    &::after {
                        content: '';
                        z-index: -1;
                        opacity: 0.25;
                        top: 0; right: 0; bottom: 0; left: 0;
                        position: absolute;
                        pointer-events: none;
                    }
                }
                &.is-over {
                    &::before {
                        content: '';
                        z-index: -1;
                        opacity: 0.45;
                        top: 0; right: 0; bottom: 0; left: 0;
                        position: absolute;
                        pointer-events: none;
                    }
                }
                &.old::after { c: 0 0 red }
                &.new::after { c: 0 0 green }
                &.is-over::before { c: 0 0 bd }
                /// HACK: Work around specificity conflict with table styles.
                /:not(#z) &:not(.new):not(.old) { c: 0 0 hl }
            }
            /// Added/removed lines.
            > [class *= 'line']:not([class *= 'num']) {
                position: relative;
                z-index: 1;
                c: 0 0 t;
                &.new, &.old {
                    c: 0 0 t;
                    &::after {
                        content: '';
                        z-index: -1;
                        opacity: 0.18;
                        position: absolute;
                        pointer-events: none;
                        top: 0; right: 0; bottom: 0; left: 0;
                    }
                }
                &.old {
                    &::before { c: red }
                    &::after { c: 0 0 red }
                }
                &.new {
                    &::before { c: green }
                    &::after { c: 0 0 green }
                }
            }
            /// Diff -> Comments.
            /.diff-comment {
                &-avatar, &s-more-count { c: 0 bg }
                &s-more-count, /.diff-notes-collapse {
                    rad: var(--avatar);
                    c: fg bd hl;
                }
                /// New discussion block.
                /.js-temp-notes-holder td { c: 0 bd }
            }
            /// Diff -> Expanded sections.
            &.diff-expanded {
                > .line_content { c: 0 0 hl }
                > .diff-line-num { box-shadow: none i }
                &, & + :not(.diff-expanded) { > td { c: 0 bd }}
            }
            /// Highlight hovered lines.
            &[class *= 'holder']:not(.new):not(.old):hover > td[class *= 'line']:not(.match) {
                &::before {
                    content: '';
                    z-index: -1;
                    opacity: 0.50;
                    top: 0; right: 0; bottom: 0; left: 0;
                    position: absolute;
                    pointer-events: none;
                    c: 0 0 bd;
                }
            }
            &.old, &.new {
                &:hover > .diff-line-num::after { opacity: 0.30 i }
                &:hover > td[class *= 'line'] {
                    &:not([class *= 'num'])::after { opacity: 0.30 i }
                }
            }
        }
        /// Project -> Settings -> Status/Report tables.
        &.white { c: fg 0 t 0 0 0 }
        /// Diff -> Fix border for 'Show unchanged lines'. @upstream
        tbody > tr.line_expansion.match:last-child > td {
            border-bottom: none i;
        }
    }

    // Groups -> Landing page.
    .group-list-tree {
        &::before { c: 0 bd }
        .folder-caret, .item-type-icon { c: cm }
        .group-row {
            c: 0 bd;
            a { c: fg }
            &::before { c: 0 bd }
            &-contents:hover { c: 0 0 hl }
            &:last-child::before { c: 0 0 bb }
            .metadata { margin-right: 10px }
            .description p, .stat-value { c: cm }
            /// Fix wrong line-height for avatars. @upstream
            .identicon.s40 { line-height: 30px }
        }
        .folder-caret { margin-left: 10px }
    }

    // Profile -> Cover.
    .cover {
        &-block { c: 0 0 hl }
        &-title, &-status, &-desc { c: fg }
        /// Buttons.
        &-controls .btn { c: 0 0 bg }
        /// Activity.
        /.calendar {
            &-hint { c: cm }
            svg.contrib-calendar > g {
            text { v: fg }
            rect { v: ac }
            rect[fill = '#ededed'] { opacity: 0.06 }
            rect[fill ^= 'rgb(17'] { opacity: 0.20 }
            rect[fill ^= 'rgb(12'] { opacity: 0.45 }
            rect[fill ^= 'rgb(82'] { opacity: 0.70 }
            rect[fill ^= 'rgb(37'] { opacity: 1 }
            }
        }
        /.user-profile {
            /// Profile -> Add background to lists.
            .projects, .activities {
                &-block {
                    padding: 0 12px;
                    c: 0 0 hl;
                    rad: 4px;
                }
            }
            /// Profile -> Activity -> Fix an empty list. @upstream
            .activities-block [data-href] {
                min-height: 40px;
                .hide:first-child:last-child {
                    display: flex i;
                    justify-content: center;
                    > div { display: none }
                    &::before {
                        content: 'No recent activities';
                        font-size: 15px;
                        c: fg;
                    }
                }
            }
        }
    }

    // Epics -> Roadmap.
    .roadmap-container {
        .roadmap-shell {
            c: 0 bd;
            border-top: 1px solid bd;
        }
        .timeline {
            &-header-blank, &-header-item { c: 0 bd bb }
            &-header-blank::before {
                c: 0 bd;
                box-shadow: none i;
                background: linear-gradient(to bottom, sh 0%, t 100%) i;
            }
            &-header-item .item {
                &-label { c: fg bd }
                &-sublabel .sublabel-value { c: cm }
                &-sublabel .label-bold { c: fg }
            }
        }
        .milestone {
            &s-list-title {
                c: 0 0 bb;
                &::after {
                    width: 4px;
                    right: -4px;
                    background: linear-gradient(to right, sh 0%, t 100%);
                }
            }
            &s-list-section {
                ../-start-and-end { c: 0 bd }
            }
            &-timeline-cell { c: 0 0 bg }
            &-item-details {
                c: cm;
                .timeline-bar {
                    &, &::before { c: 0 0 cm }
                    &::after { c: 0 cm fg }
                    ../../-url { c: cm }
                }
                &:hover {
                    .timeline-bar { &, &::before { c: 0 0 fg }}
                    .milestone-url { c: fg }
                }
            }
        }
        .epic {
            &-bar {
                c: 0 0 blue;
                /// gitlab-org/-/epics/2904
                &-child-epic {
                    c: 0 blue bb;
                    p, svg { c: blue }
                    .progress-bar { c: 0 0 blue }
                }
            }
            &-details-cell { c: 0 bd bb }
            &-timeline-cell {
                c: fg bd bg;
                ../s-list-item:hover > .epic-timeline-cell { c: 0 0 bb }
            }
            &-group-timeframe { c: cm }
            &-title { &, > a { c: fg }}
        }
        /// Tweak gradients.
        .timeline-header-blank,
        .milestones-list-title,
        .epic-details-cell {
            &::after {
                width: 4px;
                right: -4px;
                background: linear-gradient(to right, sh 0%, t 100%);
            }
        }
        /// Day indicator.
        .current-day-indicator { &, &-header { c: 0 0 ac }}
    }

    // Issues/MRs/Epics -> Notes.
    .notes {
        /// Visual line.
        &::before { c: 0 hl }
        .system-note {
            /// Timeline icons.
            .timeline-icon {
                c: 0 bd hl;
                svg { v: cm }
            }
            /// Links.
            a:not(.gl-link):not(.gfm) { c: ac }
        }
        /// Note styles.
        &.timeline > .timeline-entry {
            c: 0 bd;
            /// Exclude system events and input form.
            &:not(.system-note):not(.note-form) { c: 0 0 bg }
            /// Active note.
            &.target:not(#z) { c: 0 blue bb }
            /// Markdown area.
            .note-text {
                &.md { c: fg }
                /// Commit list gradient.
                &::after { background: linear-gradient(t -100px, bb 100%) i }
                /// 'Toggle commit list' button.
                + .flex-list div[class *= 'toggle'] { c: ac }
                /// Updated note description.
                + .description-version > pre.wrapper { rad: 4px }
            }
            /// Buttons -> Reset hover styles.
            .note-actions-item > [class *= 'button']:hover {
                &::before { content: unset i }
                svg { v: fg }
            }
            /// Buttons -> Remove styles from reply button. @upstream
            .note-actions-item.js-reply-button > .gl-button {
                border: none i
                c: 0 0 t
            }
            /// Edited text.
            .edited-text { &, .author-link { c: cm }}
            /// Code discussion divider.
            .notes-content { c: 0 bd }
        }
        /[class *= 'author-name'] { c: fg }
        /[class *= 'headline-light'] {
            &, [class *= 'separator'] { c: cm }
            a:hover { &, time { c: ac }}
        }
        /// Replies.
        .replies-toggle {
            c: cm bd hl;
            &:not(.expanded) { border-bottom: 0 }
            &.collapsed { rad: 0 0 3px 3px }
            &.expanded { c: 0 0 hl }
            span, a { c: fg }
        }
        /// Reactions.
        /[class *= 'award-control-'] {
            &, svg { v: cm }
            &:hover svg { v: fg }
            &.is-active svg { v: ac }
        }
        /// User role.
        .user-access-role { c: fg 0 hl }
        /// Global -> Emoji picker.
        /.emoji-menu {
            c: 0 bd hl;
            box-shadow: bsh;
            input { c: 0 0 bg }
        }
        /// Global -> Idiffs.
        /.idiff {
            &.addition { c: green 0 t }
            &.deletion { c: red 0 t }
        }
        /// Notes -> Resolved discussions. #79
        /.line-resolve {
            &-all { c: 0 bd hl }
            &-btn {
                c: cm;
                &.is-disabled svg { v: cm }
                &.is-active {
                    c: green;
                    svg { v: green }
                }
            }
        }
        /// Reset code discussions.
        &_holder {
            font-family: var(--ui-font) i;
            > td, .notes { c: 0 0 t }
            [class *= 'reply-holder'] { margin-bottom: -1px }
            /// Diff -> Comments.
            .timeline-entry.note {
                c: fg 0 bg;
                /// Add missing borders. @upstream
                .replies-toggle,
                [class *= 'reply-holder'] {
                    border-bottom: 1px solid bd;
                }
            }
        }
        /// Notes -> Specific activity in the feed.
        &.timeline > .discussion-filter-note {
            c: fg;
            .timeline-icon { c: 0 bd hl }
        }
        /// Epics -> Health status.
        /.epic-tabs-content {
            .card-header .issue-count-badge { c: 0 0 t }
            /// Labels.
            /.status {
                /// TODO: Improve colors.
                &-at-risk { c: red 0 #ff006620 }
                &-on-track { c: green 0 #00ff6620 }
                &-needs-attention { c: orange 0 #ff660020 }
                &-at-risk, &-on-track, &-needs-attention {
                    > .gl-label-text { color: inherit i }
                }
                /// Dividers.
                /.bullet-separator { c: cm }
                /// Remove shadows.
                /.gl-label[class *= 'status-'] {
                    > .gl-label-text { box-shadow: none i }
                }
            }
            /// Remove bg/shadow while dragging an epic.
            /.sortable-drag {
                c: 0 0 t;
                box-shadow: none i;
            }
        }
        /// Notes -> Fix the 'newest first' mode. @upstream
        /.js-comment-form .float-left.btn-group { float: unset i }
    }

    // Issue/MRs/Epics -> Discussions.
    .discussion {
        &-header { c: 0 bd }
        &-actions button { c: cm }
        &-headline-light a { c: ac }
        /// Discussion notes.
        .timeline-entry {
            c: fg 0 bg;
            &.target { c: 0 0 bb }
        }
        /// Fix rounded corners in discussions. @upstream
        &-body {
            .notes_holder li.note,
            .notes li.note:not(:first-child) {
                rad: 0;
            }
        }
        /// Increase top offset when nb_height is enabled.
        if ( nb_height == 1 ) {
            &-body .file-title { top: 98px i }
        }
        /// Reply bar.
        /&-reply-holder {
            c: 0 bd bb;
            /// MR -> Review -> Reset colors.
            > .discussion-notes {
                c: 0 0 t;
                box-shadow: none i;
            }
            /// Exclude 'Start a review' button.
            .btn:not(.btn-success) { c: fg bd bg }
        }
        /// Disabled comments.
        /.disabled-comment {
            padding: 8px 0;
            c: cm bd bg;
            a:not(.learn-more) { c: ac }
            /// Locked state.
            .issuable-note-warning {
                c: orange t t;
                svg { v: orange }
            }
        }
        /// Code -> Add new note.
        &-form { c: 0 bd bb }
        /// MR -> Review.
        /.draft-note-component {
            c: 0 0 t
            .drafts-count-component { c: white 0 green }
        }
        /.review-bar-component { c: 0 bd bg }
    }

    // Notes -> Input-box.
    .note-form {
        c: 0 0 t;
        /// Confidential issues.
        /.issuable-note-warning {
            c: orange bd bg;
            a { c: orange }
        }
        /// Editor.
        /.md-area {
            c: fg bd bg;
            /.toolbar-btn svg {
                v: cm;
                &:hover { v: fg }
            }
            &.is-focused {
                c: 0 blue;
                box-shadow: 0 0 0.4rem -0.2rem blue i;
            }
            .markdown-selector { c: ac }
            .markdown-area { c: fg 0 t }
            .comment-toolbar { c: cm bd }
            textarea { font-family: var(--mono-font) }
        }
        /// Reset background.
        .timeline-icon { c: 0 0 t }
        /// Commands.
        /.referenced-commands { c: fg 0 bd }
        /// Zen mode.
        /.zen {
            &-control svg { v: cm }
            &-backdrop.fullscreen { c: 0 0 bg }
        }
        /// MR -> Notes -> 'Unresolve thread' action.
        &-actions { c: cm }
    }

    // Issues -> Boards.
    .board {
        &-inner {
            c: 0 bd bg;
            /// Header.
            ~/-title {
                c: 0 bd;
                &-caret:hover { c: 0 0 hl }
            }
            /// End of the list.
            ~/-list-count { c: cm }
            /// Fix badge/input background.
            ~/ .issue-count-badge { c: 0 0 t }
            ~/ .form-control { c: 0 0 bg }
        }
        /// Cards.
        &-card {
            border-top: 1px solid bd i;
            c: 0 bd hl;
            box-shadow: none;
            &-header, &-title { a { c: fg }} // #140
            &-number { c: cm }
            /// Weight. #124
            &-weight { c: fg }
            /// Add padding to last element. @upstream
            &:last-child { margin-bottom: 0.25rem }
        }
        /// Delete icon.
        &-delete:not(:hover) { opacity: 0.6 }
        /// Focused mode.
        /.issue-boards-content.is-focused { c: 0 0 bb }
        /// Fix blank/promotion states. #113
        &-blank-state, &-promotion-state {
            c: 0 0 t;
            /// 'Upgrade your plan' whitespace. @upsteam
            /.top-space #hide-btn { margin-top: 15px }
            /// Fix height of headers. @upstream
            ../-inner > header h3 { min-height: 51px i }
        }
        &s-list, &-swimlanes {
            --offset: (nb_height) ? 0px : -10px
            height: calc(100vh - 114px - var(--offset));
            @media (min-width: 768px) {
                height: calc(100vh - 167px - var(--offset));
            }
            @media (max-width: 767.98px) and (min-width: 576px) {
                height: calc(100vh - 99px - var(--offset));
            }
        }
        /// Boards -> 'Add issues' modal.
        &s-app .add-issues {
            &-container {
                border: 1px solid
                c: fg bd bg
                > div > header { c: 0 0 hl }
                .board-card.is-active {
                    c: 0 0 #2288ff15
                    svg.gl-icon { c: white blue blue; v: white }
                }
                /// Resets.
                .btn.close { top: -5px }
                .filtered-search { c: 0 0 t }
                .clear-search { c: 0 0 t }
            }
        }
    }

    // Issues -> Milestones.
    .milestone {
        /// List whitespace.
        &s &:not(:last-child) { margin-bottom: 8px }
        .label-badge-gray { c: fg }
        /// Reset lists.
        &-content {
            .card-header {
                c: 0 t;
                &.bg-primary { c: ac }
            }
            li.issuable-row {
                c: 0 0 bg;
                &:first-child { border-top: 1px solid bd i }
                &:last-child { rad: 0 0 4px 4px }
                .issuable-number { c: cm }
            }
        }
        /.manage-labels-list li { c: 0 0 t }
        /// Milestones -> Burndown chart.
        /.burndown-chart {
            c: 0 0 bg;
            rad: 4px;
            box-shadow: inner;
            text { v: fg }
            .axis {
                &-label text { v: fg }
                &-label line, line, path { v: 0 cm }
            }
            .line {
                &.ideal { v: 0 cm }
                &.actual { v: 0 green }
            }
            /// Legends. #83
            .legend {
                rect { v: 0 cm }
                text { v: fg }
                /.gl-legend { &, &-inline { c: fg }}
            }
            /// Gray elements.
            [style *= '221\, 221\, 221'] { v: bd }
            [stroke = '#ddd'],
            [stroke = '#dfdfdf'],
            [stroke = '#919191'] {
                v: 0 bd;
            }
            /// Blue elements.
            [stroke = '#1f78d1'] { v: 0 blue }
            [fill = '#1f78d1'],
            [fill *= '34\,132\,229'],
            [style *= '31\, 120\, 209'] {
                v: blue;
            }
            /// Burndown chart hint.
            /.content-block.burndown-hint {
                c: 0 bd hl;
                rad: 4px;
                svg path[fill = '#fff'] { v: t }
                /// Buttons -> Selected chart.
                /.js-burndown-data-selector .btn-primary { c: white blue blue }
            }
        }
    }

    // MRs -> Changes.
    [class *= '-tabs-holder'] {
        c: 0 bd bb;
        if ( nb_height == 1  ) { top: 50px }
        /.mr-version-controls {
            c: fg bd bb;
            if ( nb_height == 1  ) { top: 98px }
        }
    }

    // Notes -> Design. #72
    .design-detail {
        c: 0 0 t;
        &::before {
            content: '';
            z-index: -1;
            opacity: 0.9;
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            c: 0 0 hl;
        }
        header { border-bottom: 1px solid bd }
        .frame .badge-pill { c: white bd ac }
        .image-notes {
            border-left: 1px solid bd;
            c: 0 0 bg;
            .design-discussion {
                c: 0 0 hl;
                &::before, .reply-wrapper { c: 0 bd }
                .btn-text-field { c: 0 0 bg }
            }
            .badge-pill, .key {
                c: white bd ac;
                box-shadow: none;
            }
        }
    }

    // Project -> File editor.
    .file {
        /// File wrapper.
        &-holder {
            c: 0 0 bg;
            /// Fix rounded corners.
            &&-bottom-radius {
                rad: 0 0 4px 4px;
                .file-title { rad: 0 }
            }
            /// Fork suggestion.
            ../-fork-suggestion { c: 0 bd hl }
        }
        /// Editor styles.
        &-editor {
            /// Top navigation.
            .nav-links {
                c: 0 bd hl;
                rad: 4px 4px 0 0;
            }
            .file-title {
                rad: 4px 4px 0 0;
                /// Snippets -> File name.
                &-flex-parent > .form-control { c: 0 0 bg }
                [data-toggle = 'dropdown'] { c: 0 0 bg }
            }
        }
        .toolbar-btn:hover svg { v: fg }
        /// Fix fonts.
        .btn, .encoding-selector, #preview { font-family: var(--ui-font) }
        /// Branch name.
        .editor-ref { c: 0 bd t }
        /// GitLab templates.
        /.template-selector {
            &s-menu { c: 0 bd }
            &-dropdowns-wrap > div[class] { font-family: var(--ui-font) }
        }
        /// Override colors.
        input, .btn, .select2-choice { c: 0 0 bg }
        .btn[class *= 'active'] { c: 0 0 bd }
        /// Editor -> Ace editor.
        /.ace {
            /// Wrapper. #75
            &-tm {
                rad: 0 0 3px 3px i;
                c: fg 0 bg;
            }
            /// Gutter.
            &_gutter {
                rad: 0 0 0 3px;
                c: cm 0 hl;
                box-shadow: 1px 0 bd;
                &-cell { c: 0 0 t }
                + .ace_scroller { rad: 0 0 3px 0 }
            }
            /// Highlighted line/selection.
            &_gutter-active-line, &_active-line { c: 0 0 hl }
            &_selected-word, &_selection {
                c: 0 0 blue;
                opacity: 0.3;
            }
            &_cursor { c: ac }
            /// Guides.
            &_indent-guide {
                background: none;
                box-shadow: inset -1px 0 bd;
            }
            &_print-margin { c: 0 0 bd }
            /// Search/replace popout.
            &_search {
                c: 0 bd hl;
                box-shadow: bsh;
                &_form, &_field { c: fg bd bg }
                [action] { c: fg bd hl }
            }
            /// Options.
            &_search_options {
                margin: 4px 0 0 -2px;
                text-align: left;
                .ace_button {
                    padding: 4px;
                    rad: 3px;
                    c: cm bd bg;
                    &:hover, &.checked { c: fg 0 bd }
                }
            }
            /// Scroller shadow.
            &_scroller&_scroll-left { box-shadow: inset 17px 0 16px -16px sh }
            /// Syntax highlighting.
            &_url { c: ac }
            &_list { c: magenta }
            &_name&_function { c: violet }
            &_line, &_constant, &_numeric { c: fg }
            &_support { ~/_type&, ~/_function& { c: cm }}
            &_variable, &_string, &_comment { c: green }
            &_heading, &_storage, &_keyword, &_meta&_tag { c: blue }
        }
    }

    // Project -> Labels/Milestones.
    .labels-container, .milestones {
        c: 0 0 hl;
        /.manage-labels-list, /.milestones > ul {
            > li:not(.empty-message):not(.no-border) {
                c: 0 bd bg;
            }
        }
    }

    /// Project -> Graphs.
    [data-page *= 'network:show'] {
        .row-content-block {
            c: 0 0 t;
            + div { padding: 0 }
        }
        .project-network {
            margin-top: 16px;
            c: 0 bd;
            rad: 4px;
            .controls {
                rad: 3px 3px 0 0;
                c: fg bd hl;
                input { c: 0 0 bg }
            }
            .network-graph {
                c: 0 0 bg;
            }
        }
        text { v: fg }
        rect {
            /// Sidebars.
            &[fill = '#222222'] { v: hl t }
            &[fill = '#444444'] { v: bb t }
            /// Commit info.
            &[transform = 'matrix(1\,0\,0\,1\,20\,20)'] { v: hl bd }
        }
        rect, path {
            /// Anchors.
            &[style = 'fill-opacity: 0.5;'] {
                v: ac;
               + text[style] { v: white }
            }
            /// Avatars.
            &[stroke = '#cc7a7a'] { v: 0 fg }
            &[stroke = '#cccccc'] { v: 0 cm }
            &[stroke = '#cc0000'] { v: 0 red }
            &[stroke = '#00cc8f'] { v: 0 cyan }
            &[stroke = '#5283cc'] { v: 0 blue }
            &[stroke = '#49cc29'] { v: 0 green }
            &[stroke = '#7a29cc'] { v: 0 orange }
            &[stroke = '#ccc052'] { v: 0 yellow }
            &[stroke = '#cc007a'] { v: 0 violet }
            &[stroke = '#b8a3cc'] { v: 0 magenta }
        }
        circle {
            /// Paths.
            &[fill = '#cc7a7a'] { v: fg }
            &[fill = '#cccccc'] { v: cm }
            &[fill = '#cc0000'] { v: red }
            &[fill = '#00cc8f'] { v: cyan }
            &[fill = '#5283cc'] { v: blue }
            &[fill = '#49cc29'] { v: green }
            &[fill = '#7a29cc'] { v: orange }
            &[fill = '#ccc052'] { v: yellow }
            &[fill = '#cc007a'] { v: violet }
            &[fill = '#b8a3cc'] { v: magenta }
        }
        /// Text elements.
        [style *= 'Monaco'] { font-family: var(--mono-font) i }
        /// Project -> Graphs.
        [class *= '-chart'], /[_echarts_instance_ *= 'ec'] {
            text tspan, [fill = '#2e2e2e'] { fill: fg }
            [fill = '#919191'] { fill: cm }
            [fill = '#dbdbdb'] { fill: bd }
            [fill = '#dbdbdb'] { fill: bd }
            [stroke = '#bfbfbf'] { stroke: bd }
            .gl-series-label { c: fg }
            .gl-legend-series { c: cm }
            /// Analytics -> Issues.
            /.issues-analytics-legend { c: cm }
        }
        /// Project -> Analytics -> Value Stream.
        /#cycle-analytics {
            h4 { c: fg }
            .empty-stage, .no-access-stage { c: cm }
            .card-header { border-bottom: 1px solid bd i }
            /// Navigation.
            .stage-nav {
                margin-top: 4px;
                &-item {
                    c: fg bd bb;
                    &.active {
                        c: 0 ac hl;
                        box-shadow: inset 4px 0 ac i;
                    }
                    &:hover:not(.active) {
                        c: 0 0 hl;
                        box-shadow: none i;
                    }
                    .stage-empty, .not-available { c: cm }
                }
            }
            /// Related issues.
            .stage-event-item {
                c: cm bd;
                .total-time { &, span { c: cm }}
                .issue-date, .build-date { c: cm }
                .issue { &-author-link, &-title, &-link { c: fg }}
            }
        }
    }

    // Dashboard -> Operations. #119
    .dashboard-card {
        &-header, &-footer { &-failed { c: 0 0 var(--red-darken) }}
        &-body {
            &-failed { c: 0 0 var(--red-darker) }
            .gl-link { c: fg }
            /// Add ellipsis to long text.
            .text-secondary {
                overflow: hidden;
                white-space: nowrap;
                text-overflow: ellipsis;
            }
            /// Reset CI table.
            .ci-table {
                margin-top: 0 i;
                rad: 0px i;
                c: 0 t t;
            }
        }
    }

    // Dashboard -> Snippets.
    [data-page ^= 'snippets:'] {
        .snippet-header h2 { c: fg }
        .file-holder pre.code.highlight { c: 0 0 bg }
        .row-content-block.content-component-block { c: 0 0 t }
    }

    // Dashboard -> Search results.
    .search-results {
        &-row {
            c: 0 bd;
            .author { c: ac }
            pre.code { rad: 4px }
        }
        /// Search -> Code.
        .blob-result { margin: 16px 0 }
        /// Search -> Comments.
        .code.highlight.white { c: 0 0 hl }
        /// Search -> Issues.
        .search-result-row { c: 0 bd }
    }

    // Components -> IDE.
    .ide {
        /// Vars.
        --ide-link-color: ac
        --ide-text-color: fg
        --ide-input-color: fg
        --ide-border-color: bg
        --ide-input-background: hl
        --ide-text-color-secondary: cm
        --ide-highlight-background: hl
        --ide-animation-gradient-1: bd
        --ide-animation-gradient-2: hl
        --ide-dropdown-hover-background: bd
        --ide-dropdown-btn-hover-border: bd
        --ide-dropdown-btn-hover-background: hl
        &-view { c: fg }
        /// Header area.
        .sidebar-context-title { c: fg }
        .avatar-container { c: 0 0 t }
        /// Sidebars.
        &-activity-bar {
            svg.s16 { v: cm }
            button.active {
                c: fg bd bg;
                box-shadow: inset 3px 0 ac i;
                &.is-right { box-shadow: inset -3px 0 ac i }
                &::after { c: 0 0 t }
                svg.s16 { v: fg }
            }
        }
        & &-right-sidebar {
            .ide-activity-bar { c: fg bd }
            .ide-pipeline-header {
                margin: 0;
                padding: 16px i;
            }
            .multi-file-commit-panel {
                &-inner { c: 0 bd bg }
                .card-body { c: 0 0 bb }
            }
        }
        &-sidebar-link:hover { c: fg 0 bd }
        /// Panels.
        .multi-file {
            &-commit-panel {
                c: 0 0 hl;
                .ic-git-merge { c: cm }
                /// Commits.
                &-header, ../-commit-form > form { c: 0 bd }
                /// Discard all changes.
                &-header .ide-staged-action-btn { c: 0 0 t }
            }
            &-commit-list-path {
                &:hover, &:focus { c: 0 0 hl }
                &.is-active { c: 0 0 bd }
            }
            &-edit-pane { c: 0 bd }
            /// Left -> Code.
            &-commit-panel-inner-content {
                c: 0 bd bg;
            }
            &-commit-form {
                c: fg bd bg;
                > .commit-form-compact { c: 0 bd }
            }
            /// Main -> Editor.
            &-edit-pane {
                c: 0 bd;
                /// File name / Preview Markdown.
                &-content > .ide-mode-tabs { c: 0 bd }
            }
            /// Editor tabs.
            &-tabs {
                 c: 0 0 hl;
                 box-shadow: none;
                 li {
                    c: cm hl hl;
                    &:hover { c: 0 0 #88888815 }
                    &.active { c: fg bg bg }
                 }
                 ../-tab-close {
                    c: cm;
                    &:not([disabled]):hover { c: 0 0 bd }
                }
            }
            /// File templates.
            ../-file-templates {
                c: 0 bd hl;
                [class *= 'menu-toggle'] { c: 0 0 bg }
            }
        }
        /// File tree.
        &-file-list {
            .ide-tree-header { c: 0 bd }
            .ide-tree-body {
                .file-row {
                    &:hover, &.is-active { c: 0 0 hl }
                }
                .ide-entry-dropdown-toggle {
                    c: fg 0 bd;
                }
            }
        }
        /// Review.
        &-review {
            &-sub-header { c: cm }
            &-header a { c: ac }
        }
        /// Commit.
        &-commit {
            &-editor-header {
                c: 0 0 hl;
                box-shadow: inset 0 -1px bd;
            }
            &-list-container.is-first { c: 0 bd }
            &-message-field {
                c: 0 0 t;
                .md-area { c: 0 0 hl }
            }
            &-message-textarea-container .note-textarea {
                font-family: var(--mono-font) i;
                c: fg;
            }
        }
        /// Branches.
        &-nav-form {
            li a:not(.active) { c: 0 0 t }
            ul > li { width: 100% }
        }
        /// Headers
        &-tree-header {
            c: 0 bd;
            svg {
                c: cm;
                &:hover { c: ac }
            }
        }
        /// Resize handle.
        .drag-handle {
            &:hover { c: 0 0 bd }
            &.is-dragging { c: 0 0 ac }
        }
        /// Footer.
        &-status-bar {
            c: fg bd hl;
            .ide-status-avatar[src *= 'png;base64'] { filter: invert(0.8) }
        }
        /// Review code.
        .diffOverview {
            c: 0 bd bb;
            if ( img_invert == 1 ) {
                &Ruler { filter: invert(0.8) hue-rotate(180deg) }
            }
        }
    }

    // Global -> Monaco Editor.
    .monaco-editor {
        c: fg 0 bg;
        /// Line numbers.
        .margin {
            c: 0 bd t;
            * { font-family: var(--mono-font) i }
            ../ .line-numbers {
                opacity: 0.6;
                c: cm;
            }
            /// Highlight the entire line.
            ../ .current-line {
                c: 0 0 hl;
                ~ .line-numbers {
                    opacity: 1;
                    c: fg;
                }
            }
        }
        /// Reset backgrounds.
        &-background, .inputarea.ime-input { c: 0 0 t }
        /// Highlights.
        .cigr { &, &a { box-shadow: inset 1px 0 bd i }}
        .view-overlays .current-line { c: 0 t hl }
        .cursor { c: bg bg fg }
        .scroll-decoration { box-shadow: inset 0 6px 6px -6px bg }
        /// Syntax highlighting.
        /// TODO: Add missing tokens.
        .mtk {
            &1 { c: fg }
            &3, &10 { c: cm }
            &5, &6, &23 { c: blue }
            &7 { c: cyan }
            &8 { c: green }
            &11 { c: orange }
            &4, &15, &20 { c: red }
            &14, &20 { c: magenta }
            &12, &22, &23 { c: cyan }
        }
        /// Lines.
        .lines-content {
            .cursor { c: fg ac ac }
            .current-line  { c: 0 bd hl }
            ../ .selected-text { c: 0 0 blue }
            ../ .selectionHighlight { c: 0 0 bd }
            [class *= 'cigr'] { box-shadow: inset 1px 0 cm }
        }
        /// Command palette.
        .monaco-quick-open-widget {
            c: fg bd bg;
            box-shadow: outer, bsh i;
            .results-group { c: cm }
            .label-name {
                c: fg;
                .highlight { c: ac }
            }
            /// Focused.
            .monaco-tree-row {
                &:hover, &.focused { c: ac 0 bd }
            }
        }
        /// Input.
        .monaco-inputbox {
            c: fg bd bg;
            input { c: fg 0 hl }
        }
        /// Find palette.
        .find-widget {
            c: fg ac hl;
            box-shadow: bsh;
            .button, .label { filter: invert(1) hue-rotate(180deg) }
            ../ .monaco-sash { c: 0 0 bd }
            textarea { c: fg 0 bg }
        }
        /// Accessibility.
        .accessibilityHelpWidget {
            c: fg bd hl;
            box-shadow: outer, bsh;
        }
        /// Context menu.
        /.monaco-menu-container {
            .monaco-scrollable-element { box-shadow: bsh i }
            .monaco-action-bar {
                c: 0 0 bg;
                box-shadow: inner, bsh i;
                .action-item {
                    > a { c: cm 0 t }
                    &.focused a { c: fg 0 hl }
                    &.disabled a { c: 0 bd }
                }
            }
        }
        .scroll-decoration { box-shadow: inset bsh i }
        .tokens-inspect-widget { c: fg bd bg }
        .findOptionsWidget {
            c: 0 bd bd;
            box-shadow: bsh;
        }
        .monaco-editor-hover { c: 0 bd bg }
        .cslr.selected-text { c: 0 0 bd 0 0 0 }
        .selectionHighlight { c: 0 0 bd }
        /// Suggestion.
        .tree {
            c: cm bd hl;
            box-shadow: bsh;
            .focused { c: fg 0 bd }
        }
        /// Git status.
        .dirty-diff-added { c: 0 0 green }
        .dirty-diff-modified { c: 0 0 blue }
        .inline-deleted-margin-view-zone, .char-delete { c: 0 0 #ff000050 }
        .inline-added-margin-view-zone, .char-insert { c: 0 0 #00ff0050 }
        .line-delete { c: white sh lred }
        .line-insert { c: white sh lgreen }
        .current-line-margin { c: 0 bd bd }
    }

    /// SourceGraph integration.
    .hover-overlay {
        /// Borders.
        hr { c: 0 0 bd }
        &__contents { c: 0 bd }
        /// Tokens.
        &--gitlab .hljs {
            &-comment, &-quote { c: cm }
            &-section, &-selector-id, &-title { c: fg }
        }
        /// Spinner.
        .loading-spinner {
            c: 0 bd;
            border-top-color: ac i;
        }
    }

    /// DAG integration. #128
    line[id *= 'dag-'][stroke = '#f2f2f2'] { stroke: gray i }

    /// DevOps Score area. #141
    .devops {
        &-card-high .board-card-score-big { c: 0 0 var(--success) }
        &-card-low .board-card-score-big { c: 0 0 var(--red) }
        &-step { c: 0 0 hl }
        /.board-card-score-value { c: cm }
    }

    // Feat -> Dark-GitLab announcements.
    if ( dgl_alerts == 1 ) {
        [data-page='users:show'] .user-profile .cover-block {
            padding-top: 80px;
            .cover-controls { top: 80px }
            &::before {
                padding: 16px;
                z-index: 999;
                content: 'v1.0 is finally here! ðŸŽ‰ ðŸ¥³ I published an update about my userstyles a while ago, you can read it here: https://vednoc.me/blog/the-end-of-an-era';
                position: absolute;
                top: 0; right: 0; left: 0;
                min-height: 52px;
                max-height: 208px;
                text-align: center;
                c: fg 0 bd;
            }
        }
    }
    if (pcs_enable) {
        { unquote('}') }
    }
}

@-moz-document domain('next.gitlab.com') {
    if (pcs_enable) {
        { unquote('@media (prefers-color-scheme: dark) {') }
    }
    .wrapper {
        padding: 1rem;
        min-height: calc(100vh - 2rem);
        /// Reset text.
        h1, p { c: fg }
        a { c: ac }
        * { font-family: var(--ui-font) }
        /// Tweak background images.
        .bg { filter: grayscale(1) invert(0.5) opacity(0.2) }
        /// Fix box content.
        [class *= 'box'] {
            c: 0 0 bg;
            rad: 4px;
            box-shadow: inner, bsh;
            .text-switch { c: cm }
            [class *= 'toggle'] {
                + label { c: 0 0 bd }
                + label::after { c: 0 0 bd }
                + label::before { c: 0 0 bg }
                &:checked + label::before { c: 0 0 blue }
            }
        }
    }
    if (pcs_enable) {
        { unquote('}') }
    }
}
